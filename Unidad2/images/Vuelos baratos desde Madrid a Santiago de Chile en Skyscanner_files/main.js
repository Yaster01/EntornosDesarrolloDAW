!function(e){function t(t){for(var n,o,i=t[0],a=t[1],u=0,c=[];u<i.length;u++)o=i[u],r[o]&&c.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={102:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=i);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=function(e){return o.p+"static/js/"+({0:"a8-net-a8-net",1:"a8-net-a8-net-test",2:"a8-net-passthrough-a8-net-passthrough",3:"addthis-addthis",4:"addthis-addthis-test",5:"criteo-criteo",6:"criteo-criteo-test",7:"facebook-facebookutils",8:"facebookconversion-facebookbootstrap",9:"facebookconversion-facebookbootstrap-test",10:"facebookconversion-facebookconversion",11:"facebookconversion-facebookconversion-test",12:"facebookjssdk-facebookjssdk",13:"facebookjssdk-facebookjssdk-test",14:"facebookredirect-facebookredirect",15:"facebookredirect-facebookredirect-test",16:"facebookretargeting-facebookretargeting",17:"facebookretargeting-facebookretargeting-test",18:"facebooksearch-facebooksearch",19:"facebooksearch-facebooksearch-test",20:"facebookview-facebookview",21:"facebookview-facebookview-test",22:"gdn-conversion-points-gdn-conversion-points",23:"gdn-conversion-points-gdn-conversion-points-test",24:"google-adwords-google-adwords",25:"google-adwords-google-adwords-test",26:"google-conversion-google-conversion",27:"google-conversion-google-conversion-test",28:"gtag-common-adwords-redir-conversion",29:"gtag-common-adwords-redir-conversion-test",30:"gtag-common-adwords-remarketing",31:"gtag-common-adwords-remarketing-test",32:"gtag-common-conversion-markets",33:"gtag-common-day-view-conversion",34:"gtag-common-day-view-conversion-test",35:"gtag-common-display-remarketing",36:"gtag-common-display-remarketing-test",37:"gtag-common-flights-conversion",38:"gtag-common-flights-conversion-test",39:"gtag-common-gdn-conversion-points",40:"gtag-common-gdn-conversion-points-test",41:"gtag-common-gdn-dynamic-remarketing-hk-th",42:"gtag-common-gdn-dynamic-remarketing-hk-th-test",43:"gtag-common-generic-event-parameters",44:"gtag-common-generic-event-parameters-test",45:"gtag-other-gtag-other",46:"gtag-other-gtag-other-test",47:"gtag-redirect-gtag-redirect",48:"gtag-redirect-gtag-redirect-test",49:"gtag-search-gtag-search",50:"gtag-search-gtag-search-test",51:"gtag-view-gtag-view",52:"gtag-view-gtag-view-test",53:"kiwi-tracking-pixel-kiwi-tracking-pixel",54:"kiwi-tracking-pixel-kiwi-tracking-pixel-test",55:"microsoftUetRedirect-microsoftUetRedirect",56:"microsoftUetRedirect-microsoftUetRedirect-test",57:"microsoftUetSearch-microsoftUetSearch",58:"microsoftUetSearch-microsoftUetSearch-test",59:"microsoftUetView-microsoftUetView",60:"microsoftUetView-microsoftUetView-test",61:"perimeterx-perimeterx",62:"perimeterx-perimeterx-test",63:"propwatcher-expected-props",64:"propwatcher-propwatcher",65:"propwatcher-propwatcher-test",66:"salesforce-dmp-salesforce-dmp",67:"salesforce-dmp-salesforce-dmp-test",68:"sat-register-sat-register",69:"sat-register-sat-register-test",70:"sat-sat",71:"sat-sat-test",72:"twitter-twitter",73:"twitter-twitter-test",74:"twitterwidgets-twitterwidgets",75:"twitterwidgets-twitterwidgets-test",76:"usabilla-usabilla",77:"utm-source-cookie-utm-source-cookie",78:"utm-source-cookie-utm-source-cookie-test",79:"vendors~usabilla-usabilla",80:"yahoo-conversion-yahoo-conversion",81:"yahoo-conversion-yahoo-conversion-test",82:"yahoo-retargeting-yahoo-retargeting",83:"yahoo-retargeting-yahoo-retargeting-test",84:"yandex-metrica-yandex-metrica",85:"yandex-metrica-yandex-metrica-test",86:"a8-net-a8-net-md",87:"a8-net-passthrough-a8-net-passthrough-md",88:"addthis-addthis-md",89:"criteo-__snapshots__-criteo-test-js-snap",90:"criteo-criteo-md",91:"facebookconversion-facebookconversion-md",92:"facebookjssdk-facebookjssdk-md",93:"facebookredirect-facebookredirect-md",94:"facebookretargeting-facebookretargeting-md",95:"facebooksearch-facebooksearch-md",96:"facebookview-facebookview-md",97:"gdn-conversion-points-__snapshots__-gdn-conversion-points-test-js-snap",98:"gdn-conversion-points-gdn-conversion-points-md",99:"google-adwords-google-adwords-md",100:"google-conversion-google-conversion-md",101:"kiwi-tracking-pixel-kiwi-tracking-pixel-md",103:"microsoftUetRedirect-microsoftUetRedirect-md",104:"microsoftUetSearch-microsoftUetSearch-md",105:"microsoftUetView-microsoftUetView-md",106:"perimeterx-perimeterx-md",107:"salesforce-dmp-salesforce-dmp-md",108:"sat-register-sat-register-md",109:"sat-sat-md",110:"twitter-twitter-md",111:"twitterwidgets-twitterwidgets-md",112:"utm-source-cookie-utm-source-cookie-md",113:"yahoo-conversion-yahoo-conversion-md",114:"yahoo-retargeting-yahoo-retargeting-md",115:"yandex-metrica-__snapshots__-yandex-metrica-test-js-snap",116:"yandex-metrica-yandex-metrica-md"}[e]||e)+"."+{0:"2375388e",1:"237972f8",2:"2454829a",3:"f449744f",4:"083a3e08",5:"e6107797",6:"1b6c2dfa",7:"99ce711d",8:"991d698c",9:"14907eb2",10:"6f28eb35",11:"0c2b57c2",12:"2dcbe930",13:"0acfddbd",14:"c8ffcdff",15:"2f36a421",16:"65416de7",17:"b6c6f1a9",18:"17c72b2a",19:"0a9b1c4b",20:"28fc3695",21:"74034554",22:"153c1fb1",23:"f4061e3c",24:"88497186",25:"f8b4b9b5",26:"d399172e",27:"6a0f58c1",28:"09435a7b",29:"9bff3827",30:"0a7f63d8",31:"a455f0c1",32:"06580e65",33:"834edd0a",34:"04cff3f1",35:"d6675036",36:"dc4ba98f",37:"d8bf5873",38:"9090e716",39:"90f3aa80",40:"7a164bbb",41:"a3b8a160",42:"fb458051",43:"98fc1e97",44:"fbc8d760",45:"3e83dc16",46:"9fe95c0d",47:"b08ed096",48:"de903077",49:"2af5c5c5",50:"fcc7d0cb",51:"d2d60bb7",52:"0fdf0e70",53:"85164abb",54:"951abe49",55:"65b06785",56:"fa2cdad9",57:"25218783",58:"f60f7948",59:"683d30a7",60:"d91a6f61",61:"ceb9ef69",62:"94183632",63:"1c7c62e5",64:"9fae1cf2",65:"097d93ad",66:"00b3f0fd",67:"1b8591ee",68:"2318689e",69:"c2710000",70:"5c5a7f93",71:"c9b5ef10",72:"04047e37",73:"57bf5aee",74:"e6dd0319",75:"d4403f74",76:"ad9f4500",77:"bdaef736",78:"44ffb679",79:"f8d72163",80:"d635e162",81:"df1c1fd1",82:"4a39321a",83:"c32c31a4",84:"87159033",85:"a9982693",86:"5a5ffb38",87:"43a47aa8",88:"9677a710",89:"43f75a83",90:"099b44dc",91:"1c805da8",92:"6bf69069",93:"a7659c01",94:"a63aee1c",95:"0daaf197",96:"d3f443fd",97:"3bf71fbb",98:"66dc7fde",99:"cda3ac2a",100:"40f2f240",101:"97249e42",103:"71006c9e",104:"00f9964d",105:"6c52b320",106:"7208ff2c",107:"7891f5c7",108:"9444efff",109:"ad2ff4f4",110:"2fa1f26c",111:"656a8352",112:"a023f7ca",113:"68201651",114:"ac0cfbae",115:"31b6ba55",116:"4eb23c72"}[e]+".chunk.js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous"),a=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[e]=void 0}};var s=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var i=window.jsTagManagerJsonpCallback=window.jsTagManagerJsonpCallback||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=a;o(o.s=184)}([function(e,t,n){var r=n(190),o=n(191),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){e.exports=n(192)},function(e,t,n){"use strict";n.r(t);var r={},o={},i=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;r=e.queued,o=e.topicSubscriptions}else r={},o={},window.Sb.ObserverMemory={queued:r,topicSubscriptions:o}},a=function(e){var t=o[e];if(t&&t.length){var n=r[e];if(n&&n.length)for(var i=0,a=n.length;i<a;i++)for(var u=n[i],s=0,c=t.length;s<c;s++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(u,t[s])}}},u={subscribe:function(e,t,n){return o[e]||(o[e]=[]),o[e].push({fn:t,context:n||void 0,received:[]}),a(e),[e,t]}},s=0;u.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+s++;return r[e]||(r[e]=[]),r[e].push({topic:e,data:t,publishId:n}),a(e),u},u.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=o[t];if(!r)return u;for(var i=r.length;i--;)r[i].fn===n&&r.splice(i,1);return u}},u.wrap=function(e,t){Object.keys(t).forEach(function(n){u.subscribe("".concat(e).concat(n),t[n])})},u.init=i,i(),t.default=u},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return o})},function(e,t,n){var r,o;!function(i){if(void 0===(o="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,u=window.Cookies=i();u.noConflict=function(){return window.Cookies=a,u}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in i)i[s]&&(u+="; "+s,!0!==i[s]&&(u+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+u}}function a(e,n){if("undefined"!==typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var u=i[a].split("="),s=u.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=t(u[0]);if(s=(r.read||r)(s,c)||t(s),n)try{s=JSON.parse(s)}catch(f){}if(o[c]=s,e===c)break}catch(f){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})})},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(56)("wks"),o=n(44),i=n(9).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(223),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)})}}n.d(t,"a",function(){return o})},function(e,t,n){e.exports=n(197)},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(199),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){return function r(o,a){try{var u=t[o](a),s=u.value}catch(c){return void n(c)}if(!u.done)return i.default.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},o=function(e,t){return new Date(e.getTime()+6e4*t)},i=function(e,t){var n=new Date(e);return n.setFullYear(n.getFullYear()+t),n},a=function(){return new Date},u=function(e){var t=a(),n=e.getTime(),r=60*e.getTimezoneOffset()*1e3;return t.setTime(n-r),t},s=function(e,t){if(!e||!t)return null;var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((r-n)/864e5)},c=function(e,t){return e&&t?t-e:null},f=function(e,t){return e&&t?Math.floor((e-t)/1e3):null},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd",n=e.getFullYear(),r="0".concat(e.getMonth()+1).slice(-2),o="0".concat(e.getDate()).slice(-2);return"yyyy-mm"===t?"".concat(n,"-").concat(r):"".concat(n,"-").concat(r,"-").concat(o)},d=function(e,t){var n=s(e,t);return n?"".concat(n>0?"+":"").concat(n):null},p=function(e){return{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}[e.getDay()]},h=function(e){var t=e.split("T"),n=(t[0]||"").split("-"),r=(t[1]||"").split(":");return new Date(~~n[0],~~n[1]-1,~~n[2],~~r[0],~~r[1],~~r[2],~~r[3])},v=function(e){var t=h(l(a()));return h(e)<t};function g(e){return e<10?"0".concat(e):"".concat(e)}var y=function(e){return Date.prototype.toISOString?e.toISOString():"".concat(e.getUTCFullYear(),"-").concat(g(e.getUTCMonth()+1),"-").concat(g(e.getUTCDate()),"T").concat(g(e.getUTCHours()),":").concat(g(e.getUTCMinutes()),":").concat(g(e.getUTCSeconds()),".").concat((e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5),"Z")},m={getTimezoneOffset:function(e){return e.getTimezoneOffset()},wrapDate:function(e){return new Date(e)}};n.d(t,"addDays",function(){return r}),n.d(t,"addMinutes",function(){return o}),n.d(t,"addYears",function(){return i}),n.d(t,"convertLocalTime",function(){return u}),n.d(t,"daysBetweenDates",function(){return s}),n.d(t,"diffInMilliseconds",function(){return c}),n.d(t,"diffInSeconds",function(){return f}),n.d(t,"formatDate",function(){return l}),n.d(t,"getDateOffsetStr",function(){return d}),n.d(t,"getDayOfWeek",function(){return p}),n.d(t,"isDateInThePast",function(){return v}),n.d(t,"now",function(){return a}),n.d(t,"date",function(){return m}),n.d(t,"parseDateTime",function(){return h}),n.d(t,"toISOString",function(){return y})},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(5),i=n(6),a=n.n(i),u={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var s=!1,c=function(e){var t=u.getWindow();s?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};c(function(){s=!0});n(0);var f={},l={},d=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;f=e.queued,l=e.topicSubscriptions}else f={},l={},window.Sb.ObserverMemory={queued:f,topicSubscriptions:l}},p=function(e){var t=l[e];if(t&&t.length){var n=f[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)for(var i=n[r],a=0,u=t.length;a<u;a++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(i,t[a])}}},h={subscribe:function(e,t,n){return l[e]||(l[e]=[]),l[e].push({fn:t,context:n||void 0,received:[]}),p(e),[e,t]}},v=0;h.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+v++;return f[e]||(f[e]=[]),f[e].push({topic:e,data:t,publishId:n}),p(e),h},h.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=l[t];if(!r)return h;for(var o=r.length;o--;)r[o].fn===n&&r.splice(o,1);return h}},h.wrap=function(e,t){Object.keys(t).forEach(function(n){h.subscribe("".concat(e).concat(n),t[n])})},h.init=d,d();u.getWindow();var g=n(32),y=function(e){return Number.isInteger?Number.isInteger(e):"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.path,i=void 0===o?"/":o,u=r.secure,s=void 0===u||u;if(null==n)a.a.set(e,t,{path:i,secure:s});else{if(!y(n))throw new Error("Expires parameter needs to be an integer.");a.a.set(e,t,{expires:n,path:i,secure:s})}}var b=function(){function e(t){Object(r.a)(this,e),this.name=t;var n=u.getDocument().cookie;this.cookie=Object(g.parseMultiValueCookie)(t,n),this.cookie||(this.cookie=new g.MultiValueCookie({}))}return Object(o.a)(e,[{key:"getValue",value:function(e){return this.cookie.getValue(e)}},{key:"setValue",value:function(e,t){return this.cookie.setValue(e,t),this}},{key:"deleteValue",value:function(e){return this.cookie.deleteValue(e),this}},{key:"keys",value:function(){return this.cookie.keys()}},{key:"clear",value:function(){return this.cookie.clear(),this}},{key:"getRawValue",value:function(){return this.cookie.serializeToString()}},{key:"store",value:function(e,t){return m(this.name,this.cookie.serializeToString(),e,t),this}},{key:"remove",value:function(){a.a.remove(this.name)}}]),e}(),w=function(){function e(t){Object(r.a)(this,e),this.name=t,this.cookieValue=a.a.get(t)}return Object(o.a)(e,[{key:"getValue",value:function(){return this.cookieValue}},{key:"setValue",value:function(e){return this.cookieValue=e,this}},{key:"store",value:function(e,t){return m(this.name,this.cookieValue,e,t),this}},{key:"storeByDate",value:function(e,t){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.path,i=void 0===o?"/":o,u=r.secure,s=void 0===u||u;if(!n||"object"!==typeof n||!n.toUTCString)throw new Error("Expiration date must be a Date.");a.a.set(e,t,{expires:n,path:i,secure:s})}(this.name,this.cookieValue,e,t),this}},{key:"remove",value:function(){a.a.remove(this.name)}}]),e}(),k=function(e){var t="".concat(e,"=");return(u.getDocument().cookie||"").split(";").some(function(e){return e.indexOf(t)>=0})};n.d(t,"SingleValueCookie",function(){return w}),n.d(t,"MultiValueCookie",function(){return b}),n.d(t,"cookieExists",function(){return k})},function(e,t,n){var r=n(9),o=n(7),i=n(35),a=n(26),u=n(27),s=function e(t,n,s){var c,f,l,d=t&e.F,p=t&e.G,h=t&e.S,v=t&e.P,g=t&e.B,y=t&e.W,m=p?o:o[n]||(o[n]={}),b=m.prototype,w=p?r:h?r[n]:(r[n]||{}).prototype;for(c in p&&(s=n),s)(f=!d&&w&&void 0!==w[c])&&u(m,c)||(l=f?w[c]:s[c],m[c]=p&&"function"!=typeof w[c]?s[c]:g&&f?i(l,r):y&&w[c]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((m.virtual||(m.virtual={}))[c]=l,t&e.R&&b&&!b[c]&&a(b,c,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){e.exports=!n(36)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(5),i={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var a=!1,u=function(e){var t=i.getWindow();a?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};u(function(){a=!0});n(0);var s={},c={},f=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;s=e.queued,c=e.topicSubscriptions}else s={},c={},window.Sb.ObserverMemory={queued:s,topicSubscriptions:c}},l=function(e){var t=c[e];if(t&&t.length){var n=s[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)for(var i=n[r],a=0,u=t.length;a<u;a++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(i,t[a])}}},d={subscribe:function(e,t,n){return c[e]||(c[e]=[]),c[e].push({fn:t,context:n||void 0,received:[]}),l(e),[e,t]}},p=0;d.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+p++;return s[e]||(s[e]=[]),s[e].push({topic:e,data:t,publishId:n}),l(e),d},d.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=c[t];if(!r)return d;for(var o=r.length;o--;)r[o].fn===n&&r.splice(o,1);return d}},d.wrap=function(e,t){Object.keys(t).forEach(function(n){d.subscribe("".concat(e).concat(n),t[n])})},d.init=f,f();i.getWindow();var h=function(){function e(t){Object(r.a)(this,e),this.DEFAULT_COOKIE_NAME="storageFallback",this.COOKIE_EXPIRY_VALUE=7776e6,this.sessionOnly=t,this.$document=i.getDocument()}return Object(o.a)(e,[{key:"getRawCookie",value:function(e){var t=this.$document.cookie.split(";").filter(function(t){return 0===t.trim().indexOf(e)});if(!t.length)return{};var n=t[0].split("=");return 2!==n.length?null:JSON.parse(n[1])}},{key:"setRawCookie",value:function(e,t,n,r){var o="".concat(e,"=").concat(t);if(!n){var i=r;i||(i=new Date).setTime(i.getTime()+this.COOKIE_EXPIRY_VALUE),o+="; expires=".concat(i.toUTCString())}return this.$document.cookie=o,this.$document.cookie}},{key:"getItem",value:function(e){var t=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return t?JSON.stringify(t[e]):null}},{key:"setItem",value:function(e,t){var n=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return n?(n[e]=JSON.parse(t),this.setRawCookie(this.DEFAULT_COOKIE_NAME,JSON.stringify(n),this.sessionOnly)):null}},{key:"createOrUpdateCookie",value:function(e,t,n){return this.setRawCookie(e,t,!1,n)}}]),e}(),v=function(){function e(t){Object(r.a)(this,e),this.namespace=t,this.browserStorage=null}return Object(o.a)(e,[{key:"getBrowserStorage",value:function(e,t){var n=function(){try{var e=i.getWindow(),t=e.localStorage,n=e.sessionStorage;t.setItem("__initTest__","__initValue"),n.setItem("__initTest__","__initValue")}catch(r){return!1}return!0}(),r=i.getWindow();return this.browserStorage=n?t?r.sessionStorage:r.localStorage:e?new h(t):null,this.browserStorage}},{key:"tryGetValue",value:function(e,t,n){var r=this.getBrowserStorage(t,n);if(!r)return null;var o=r.getItem(this.namespace);if(!o)return null;if(o=JSON.parse(o),null==e)return o;for(var i=e.split("."),a=o,u=0;u<i.length;u+=1){if("undefined"===typeof(a=a[i[u]]))return null;if(u+1===i.length)return a}return null}},{key:"trySetValue",value:function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.getBrowserStorage(n,r);if(!a)return null;try{o=(o=a.getItem(this.namespace))?JSON.parse(o):{}}catch(l){return!1}for(var u=e.split("."),s=o,c=0;c<u.length;c+=1){var f=u[c];if(!(f in s)){if(i)return!1;s[f]={}}if(c+1===u.length){i?delete s[f]:s[f]=t;try{return a.setItem(this.namespace,JSON.stringify(o)),!0}catch(l){return!1}}s=s[f]}return!1}},{key:"tryDeleteValue",value:function(e,t,n){return this.trySetValue(e,null,t,n,!0)}}]),e}();n.d(t,"LocalStorage",function(){return v}),n.d(t,"CookieConnector",function(){return h})},function(e,t,n){var r=n(15),o=n(76),i=n(53),a=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(87),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,i.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(241)),o=a(n(245)),i=a(n(87));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";var r={getWindow:function(){return"undefined"!==typeof window?window:null},getDocument:function(){return"undefined"!==typeof document?document:null},getNavigator:function(){return"undefined"!==typeof navigator?navigator:null}},o=function(e,t,n,o){var i=r.getDocument(),a=i.createElement("script");a.type=n||"text/javascript",a.async=!0,["anonymous","use-credentials"].indexOf(o)>-1&&(a.crossOrigin=o),t&&"function"===typeof t&&(a.onload=t),0===e.indexOf("//")||0===e.indexOf("http")?a.src=e:a.src=("https:"===i.location.protocol?"https://":"http://")+i.location.host+e;var u=i.getElementsByTagName("script")[0];u.parentNode.insertBefore(a,u)};var i=!1,a=function(e){var t=r.getWindow();i?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};a(function(){i=!0});var u=a;n(0),n(2);n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return u})},function(e,t,n){var r=n(21),o=n(42);e.exports=n(19)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(13)),o=u(n(14)),i=u(n(8)),a=u(n(11));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"publishSignupSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.provider;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError,t.provider;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.message,t.provider,t.isNewUser,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.message,t.provider,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError,t.provider,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError,t.provider,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.cause,t.utid,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError,t.cause,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.cause,t.utid,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError,t.cause,t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.provider,t.isReauthentication;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=(0,o.default)(r.default.mark(function e(t){t.provider,t.market;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishError",value:function(e){e.name,e.authError}}]),e}();t.default=s},function(e,t,n){"use strict";var r={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}},o=function(){return r.getNavigator().userAgent};var i=!1,a=function(e){var t=r.getWindow();i?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};a(function(){i=!0});n(0);var u={},s={},c=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;u=e.queued,s=e.topicSubscriptions}else u={},s={},window.Sb.ObserverMemory={queued:u,topicSubscriptions:s}},f=function(e){var t=s[e];if(t&&t.length){var n=u[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)for(var i=n[r],a=0,c=t.length;a<c;a++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(i,t[a])}}},l={subscribe:function(e,t,n){return s[e]||(s[e]=[]),s[e].push({fn:t,context:n||void 0,received:[]}),f(e),[e,t]}},d=0;l.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+d++;return u[e]||(u[e]=[]),u[e].push({topic:e,data:t,publishId:n}),f(e),l},l.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=s[t];if(!r)return l;for(var o=r.length;o--;)r[o].fn===n&&r.splice(o,1);return l}},l.wrap=function(e,t){Object.keys(t).forEach(function(n){l.subscribe("".concat(e).concat(n),t[n])})},l.init=c,c();var p,h=l,v=(r.getWindow(),function(){if("undefined"===typeof p)try{var e=r.getDocument().getElementById("trackolding-sync"),t=JSON.parse(e.getAttribute("data-data"));p=!0===t.useAkamaiSlipstream}catch(n){console.warn("Could not get Trackolding data, will not use Akamai Slipstream endpoint"),p=!1}return p});n.d(t,"b",function(){return b});var g=["www.skyscanner","js.skyscnr.com","css.skyscnr.com","images.skyscnr.com","skyscannertools.net"],y={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};h.init();var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1?arguments[1]:void 0,n=r.getWindow(),i=n.Skyscanner,a=n.location;t&&(n.topicName=t.topicName);var u,s,c=function(e){var t=e.location,n=e.topicName,r=void 0===n?"web-browser":n;return-1===t.hostname.indexOf("sandbox")&&-1===t.hostname.indexOf("pre-prod")&&-1===t.hostname.indexOf("localhost")?v()?"".concat("/slipstream","/").concat("grp/v1/applog/public","/").concat(r):"".concat("https://slipstream.skyscanner.net","/").concat("grp/v1/applog/public","/").concat(r):"".concat("https://slipstream.skyscanner.net","/").concat("grp/v1/applog/public-sandbox","/").concat(r)}(n),f={message:e,fields:{pageName:i&&i.analyticsPageName||"unknown",location:a.href,level:y.ERROR,userAgent:o(),deployColour:n.__trackolding&&n.__trackolding.deploy&&n.__trackolding.deploy.colour||"unknown",deployRegion:n.__trackolding&&n.__trackolding.deploy&&n.__trackolding.deploy.region||"unknown"}};return Object.assign(f.fields,t),delete f.fields.message,u=c,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)},new Promise(function(e,t){r.getWindow().fetch(u,s).then(e,t)})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.component)throw new Error("Component required");var t=e.message,n=e.component,r=m(t,e);return h.publish("app-log",{message:t,component:n}),r};t.a={logError:b,logWarn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.component)throw new Error("Component required");return m(e.message,Object.assign({},e,{level:y.WARN,topicName:e.topicName}))},onWindowError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.forEach(function(r){t.indexOf(r)>-1&&b({component:n.component||"unknown",level:y.ERROR,message:e,topicName:n.topicName})}),!0},logFunctionCall:function(e,t){return 1e3*Math.random()>50?Promise.resolve():m("Function called: <".concat(e,">"),{level:y.INFO,topicName:t})},ERROR_LEVEL:y}},function(e,t){e.exports={}},function(e,t,n){var r=n(79),o=n(51);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIES=t.MultiValueCookie=t.serializeToString=t.buildCookieObject=t.parseMultiValueCookie=t.parseCookie=void 0;var r=c(n(194)),o=c(n(195)),i=c(n(72)),a=c(n(73)),u=c(n(71)),s=n(39);function c(e){return e&&e.__esModule?e:{default:e}}t.parseCookie=r.default,t.parseMultiValueCookie=o.default,t.buildCookieObject=i.default,t.serializeToString=a.default,t.MultiValueCookie=u.default,t.COOKIES=s.COOKIES,t.default=r.default},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t){e.exports=!0},function(e,t,n){var r=n(41);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(5),i={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}},a=function(){var e=i.getWindow(),t=i.getDocument(),n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}};var u=!1,s=function(e){var t=i.getWindow();u?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};s(function(){u=!0});n(0),n(2),i.getWindow();var c,f=function(){if("undefined"===typeof c)try{var e=i.getDocument().getElementById("trackolding-sync"),t=JSON.parse(e.getAttribute("data-data"));c=!0===t.useAkamaiSlipstream}catch(n){console.warn("Could not get Trackolding data, will not use Akamai Slipstream endpoint"),c=!1}return c},l=function(e,t){return new Promise(function(n,r){i.getWindow().fetch(e,t).then(n,r)})},d=n(16),p=n(98),h=n.n(p),v={EU_WEST_1:0,EU_CENTRAL_1:1,AP_SOUTHEAST_1:2,AP_NORTHEAST_1:3,UK1:64,UK2:65,NL1:66,SG1:67,HK1:68},g={MILLI:0,SECOND:1,DAY:2,WEEK:4,MONTH:5,YEAR:6,ANYTIME:7,MINUTE:8},y=i.getWindow(),m=function(e){return"".concat(e||"").trim()},b=function(e){if(!isFinite(e))return 0;for(var t=0,n=1,r=Math.pow(10,20);Math.round(e*n)/n!==e&&n<=r;){if(n>=r)return null;n*=10,t++}return t},w=function(e){var t=null,n=isNaN(+e)?null:parseFloat(e);if(n&&"number"===typeof n&&!isNaN(n)){if((t={precision:b(n),amount:parseInt("".concat(n).replace(".",""),10)}).amount.toString().length>=10){var r=t.amount.toString().length-10;t.precision-=r,t.amount=parseInt(t.amount.toString().substring(0,10),10)}2147483647-t.amount<0&&(t.precision-=1,t.amount=parseInt(t.amount.toString().substring(0,9),10))}return t},k=function(e){var t=/([a-z]{3}[_][a-z]{3}[_][0-9]{5}[_][0-9]{5})/i;return e&&t.test(e)?e.match(t)[0].toUpperCase():"DIR_ECT_00000_00000"},_=function(e){var t=/(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/gi;return e&&t.test(e)?e.match(t)[0]:null},E=function e(t){if(!t)return t;var n=JSON.parse(h.a.stringify(t));return Object.keys(n).forEach(function(t){var r=n[t];(r&&(r.constructor===Object||r.constructor===Array)||"function"===typeof r)&&(n[t]=e(r)),function(e){return void 0===e||null===e||""===e||"object"===typeof e&&0===Object.keys(e).length||"number"===typeof e&&e!==+e}(r)&&delete n[t]}),Array.isArray(n)&&(n=n.filter(Boolean)),n},S=function(e,t,n){var r=null,o=0,i=function(e,t,n){var r=t,o=n,i=e||new Date,a=d.date.getTimezoneOffset(i),u=r&&d.date.getTimezoneOffset(r),s=o&&d.date.getTimezoneOffset(o);return{thisTZOffset:a,jan:r=u||d.date.getTimezoneOffset(new Date(i.getFullYear(),0,1)),jul:o=s||d.date.getTimezoneOffset(new Date(i.getFullYear(),6,1))}}(e,t,n),a=i.thisTZOffset,u=i.jan,s=i.jul;return u>s?(r=s,o=u-s):u<s&&(r=u,o=s-u),s!==u&&null!=r&&r===a?{DSTOffset:o,TZOffset:-1*a-o}:{DSTOffset:0,TZOffset:-1*a||0}},O={int:function(e){return isNaN(+e)?null:parseInt(e,10)},isFloat:function(e){return isNaN(+e)?null:parseFloat(e)},isUnknown:function(e){return e&&"unknown"===e.toString().toLowerCase()?null:e},isDate:function(e,t){if(!e)return null;if(e instanceof Date)return e;if("number"===typeof e)return new Date(e);if("string"===typeof e&&"YYYYMMDDHHmmss"===t)try{return new Date(e.slice(0,4),e.slice(4,6)-1,e.slice(6,8),e.slice(8,10),e.slice(10,12),e.slice(12,14))}catch(o){return null}if("string"===typeof e){var n,r=e.split(/[ZT:\\.\\\/\/-]/);try{n=new Date(Date.UTC(r[0],r[1]-1||0,r[2]||1,r[3]||null,r[4]||null,r[5]||null))}catch(i){return null}return n instanceof Date&&!isNaN(n.valueOf())?n:null}return null},parseBool:function(e){if("boolean"===typeof e)return e;if("number"===typeof e)return!!e;if("string"===typeof e)switch(m(e.toLowerCase())){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;default:return null}return null},isBool:function(e){return"boolean"===typeof e}},x=function(e,t,n,r){var o=n||null,i=e;"string"===typeof e&&e&&4===e.length&&e.substring(2,4)<=12&&(i="20".concat(e));var a=O.isDate(i,r);a&&"string"===typeof i&&!o&&(o=function(){switch(i.length){case 4:return"YEAR";case 6:case 7:return"MONTH";case 8:case 10:return"DAY";default:return"MILLI"}}()),a&&a instanceof Date&&!o&&(o="MILLI");var u={};if(a&&(u={unix_time_millis:a.getTime(),date_time_kind:g[o]}),a&&a instanceof Date&&t){var s=S(a);u.timezone_offset_mins=s.TZOffset||0,u.daylight_savings_offset_mins=s.DSTOffset||0}return u.unix_time_millis||u.date_time_kind?E(u):null},T=function(e){return O.isUnknown(e)?k(e):null},j=function(e){return O.isUnknown(e)?_(e):null},P=function(e){var t=e.version,n=e.nodeName,r=e.identifier,o=e.version_identifier,i=n&&n.length>=8?n.substring(5,8):null,a=e.dc;return E({data_center:void 0===a?v[i]:a,name:n,version_tag:t,version_identifier:o,identifier:r})},L=function(){for(var e=[],t=0;t<36;)e[t]=Math.floor(16*Math.random()),t+=1;e[14]=4,e[19]=3&e[19]|8;for(var n=0;n<36;)e[n]="0123456789abcdef"[e[n]],n+=1;return e[8]=e[13]=e[18]=e[23]="-",e.join("")},I=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=!1;-1===[2,1,0].indexOf(Number(t))&&(a=!0);var u=/.+\..+\.(.+.\..+)$/.exec(o),s={utid:e,user_status:a?"0":t.toString(),authentication_status:O.int(t),preference_string:m(n),sstrack:r,ga_cid:u&&u.length>1?u[1]:null,mixpanel_id:i.value||i.json&&i.json.distinct_id||null};return E(s)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({country:e.market,currency:e.currency,locale:e.locale})},A=function(){var e=a(),t=e.width*e.width+e.height*e.height,n=Math.round(Math.sqrt(t)/72*10)/10,r=y.screen||{};return{usable_width:e.width,usable_height:e.height,display_width:r.width,display_height:r.height,display_ppi:r.pixelDepth,diag_in_inches:n,device_pixel_ratio:y.device_pixel_ratio||null}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.navigator,r={user_agent:n.userAgent,vendor_name:n.vendor,browser_name:O.isUnknown(e.browserName)||n.appName,browser_version:O.isUnknown(e.browserVersion)||n.appVersion,is_browser:O.isUnknown(e.desktop),display_height:O.int(t.display_height),display_width:O.int(t.display_width),display_ppi:O.int(t.display_ppi),usable_display_width:O.int(t.usable_width),usable_display_height:O.int(t.usable_height),diagonal_screen_size_int:w(t.diag_in_inches),device_pixel_ratio_int:w(t.device_pixel_ratio)||null,ip_address:j(e.ipAddress),is_mobilephone:O.isUnknown(e.mobile),is_tablet:O.isUnknown(e.tablet),os_version:O.isUnknown(e.osVersion)};return document.referrer&&(r.referrer_url=document.referrer),E(r)},N=function(e,t){var n=e||{},r=n.utid,o=n.authState,i=n.preferences,a=n.ssTrack,u=n.gaCookie,s=n.mixPanel,c=n.screen,f=n.nav,l=n.nodeName,d=n.scaffoldVersion,p=n.componentContext,h=n.config,v=n.guid,g={};try{g.produced_by=2,g.producer_version=d,g.service_instance_fingerprint=P({version:d,nodeName:l}),g.traveller_identity=I(r,o,i,a,u,s),g.client_details=M(p,c,f),g.traveller_culture_settings=C(p),g.ab_tests=E(h&&h.featureTests||null),g.created_on=x(new Date(Date.now()),!0),g.associate_id=T(p&&p.associateId||null),g.guid=v||L()}catch(y){if(!t)throw y}return g},R="https://slipstream.skyscanner.net",U="/slipstream",D=function(e,t,n){var r;if(n){var o=Object.assign({},t,{event_header:N()});r=JSON.stringify(o)}else r=JSON.stringify(t);l(e,{method:"POST",body:r,headers:{"Content-Type":"application/json"}})},V=function(){function e(t,n){var o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).enhance,i=void 0===o||o;if(Object(r.a)(this,e),"public"!==t&&"public-sandbox"!==t)throw new Error('GrapplerLogger environment must be "public" or "public-sandbox"');this.env=t,this.serviceName=n,this.enhance=i,this.endpoint=f()?U:R}return Object(o.a)(e,[{key:"sendApplogMessage",value:function(e){var t="".concat(this.endpoint,"/grp/v1/applog/").concat(this.env,"/").concat(this.serviceName);D(t,e,this.enhance)}},{key:"sendCustomEvent",value:function(e,t,n){var r="".concat(this.endpoint,"/grp/v1/custom/").concat(this.env,"/").concat(this.serviceName,"/").concat(e,"/").concat(t);D(r,n,this.enhance)}},{key:"sendCustomEvents",value:function(e,t,n){!function(e,t,n){var r=t.reduce(function(e,t){return e+(n?JSON.stringify(Object.assign({},t,{event_header:N()})):JSON.stringify(t))},"");l(e,{method:"POST",body:r,headers:{"Content-Type":"application/json"}})}("".concat(this.endpoint,"/grp/v1/custom/").concat(this.env,"/").concat(this.serviceName,"/").concat(e,"/").concat(t),n,this.enhance)}},{key:"sendCustomEventWithEncodedUrl",value:function(e,t,n){var r="".concat(btoa("".concat(this.serviceName,"/").concat(e,"/").concat(t))),o="".concat(this.endpoint,"/grp/v1/encoded/").concat(this.env,"/").concat(r);D(o,n,this.enhance)}}]),e}();n.d(t,"GrapplerLogger",function(){return V}),n.d(t,"getScreen",function(){return A}),n.d(t,"getDateOffsets",function(){return S}),n.d(t,"floatToPrecisionInt",function(){return w}),n.d(t,"parseAssociateId",function(){return k}),n.d(t,"parseIPAddress",function(){return _}),n.d(t,"pruneEmpty",function(){return E}),n.d(t,"getUniqueGuid",function(){return L}),n.d(t,"getEventHeader",function(){return N}),n.d(t,"getAssociateId",function(){return T}),n.d(t,"getIPAddress",function(){return j}),n.d(t,"getClientDetails",function(){return M}),n.d(t,"getTravellerIdentity",function(){return I}),n.d(t,"getTravellerCultureSettings",function(){return C}),n.d(t,"getServiceFingerprint",function(){return P}),n.d(t,"getCommonsDateTime",function(){return x}),n.d(t,"safeTrim",function(){return m}),n.d(t,"check",function(){return O})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COOKIE_SEPARATOR=";",t.PAIR_SEPARATOR="&",t.KEY_VALUE_SEPARATOR=":::",t.COOKIES=Object.freeze({SCANNER:"scanner",CULTURE:"ssculture",AB:"ssab",AB_OVERRIDES:"ssaboverrides",AB_GROUP:"abgroup",TRAVELLER_CONTEXT:"traveller_context",SID_UTID:"sid_utid",GDPR:"gdpr",HAS_APP:"has_app",DEVICE_GUID:"device_guid",EXPERIMENT_ALLOCATION_ID:"experiment_allocation_id"})},function(e,t,n){"use strict";var r=n(201)(!0);n(75)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(78),o=n(57);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(21).f,o=n(27),i=n(10)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){n(207);for(var r=n(9),o=n(26),i=n(30),a=n(10)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],f=r[c],l=f&&f.prototype;l&&!l[a]&&o(l,a,c),i[c]=i.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvFromUrl=void 0;var r=n(281);t.getEnvFromUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.GLOBAL.getWindow();return-1!==(e.location.protocol+"//"+e.location.hostname).indexOf("local")?"development":"production"};t.default=function(e){if("development"===e||"production"===e)return n(272)("./"+e).config;throw new Error("Environment is required.")}},function(e,t,n){"use strict";n.r(t);var r=n(33),o=n(1),i=n.n(o),a=n(12),u=n(4),s=n(5),c=n(29),f=n(16),l=n(20),d=n(38),p=n(0),h=n(17),v=n(66),g=(Object.freeze({UNSET:0,UNAUTHENTICATED:1,AUTHENTICATED:2}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3,t=new Promise(function(t){setTimeout(function(){return t(!1)},e)});return Promise.race([Object(v.isUserLoggedIn)(),t])}),y=function(){var e=Object(v.getSession)();return e&&e.utid||new h.SingleValueCookie("traveller_context").getValue()},m=function(){var e=new h.SingleValueCookie("device_guid"),t=e.getValue();if(!t){var n=Object(p.v4)();return e.setValue(n),e.store(730),n}return t},b={search_guid:["searchresultpage_guid","searchresultoption_guid","bookingpaneloption_guid","miniredirect_guid"],searchresultpage_guid:["searchresultoption_guid","bookingpaneloption_guid","miniredirect_guid"],searchresultoption_guid:["bookingpaneloption_guid","miniredirect_guid"],bookingpaneloption_guid:["miniredirect_guid"],miniredirect_guid:[]},w=function(e){var t=e.messageGuid;return void 0===t||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(t)},k=function(e){return"".concat(e.split(".").pop().toLowerCase(),"_guid")},_=function(e){return"".concat(e.split(".").pop().toLowerCase,"_checksum")},E=function(e,t,n){e.trySetValue(t,n,!1,!0),(b[t]||[]).forEach(function(t){e.tryDeleteValue(t)})},S=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(u.a)(this,e),!n)throw new Error("A schema must be provided");if(!t)throw new Error("A namespaced store must be provided");this.store=t,this.schema=n,this.message=null,this.opts=r}return Object(s.a)(e,[{key:"getSeqNumber",value:function(){var e=(this.store.tryGetValue("sequence_num")||0)+1;return this.store.trySetValue("sequence_num",e),e}},{key:"buildHeader",value:function(){var e=Object(a.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return n=e.sent,e.abrupt("return",{header:{guid:t,client_timestamp:Object(d.getCommonsDateTime)(new Date(Date.now()),!0),traveller_identity:{utid:y(),authentication_status:n?"AUTHENTICATED":"UNAUTHENTICATED"},sequence_number:this.getSeqNumber(),device_guid:m(),experiment_allocation_id:new h.SingleValueCookie("experiment_allocation_id").getValue()}});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createAndStoreGuid",value:function(){var e=this.opts.messageGuid||Object(p.v4)(),t=k(this.schema);return!1!==this.opts.store_guid&&E(this.store,t,e),e}},{key:"buildMessage",value:function(){var e=Object(a.a)(i.a.mark(function e(t){var n,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAndStoreGuid(),e.next=3,this.buildHeader(n);case 3:return o=e.sent,a=Object(r.a)({},o,t),this.message=a,e.abrupt("return",this.message);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){return this.message}}]),e}();n.d(t,"default",function(){return O}),n.d(t,"setGuidForEvent",function(){return x});var O=function(){function e(t,n){Object(u.a)(this,e),this.grapplerLogger=new d.GrapplerLogger(t,n,{enhance:!1}),this.store=new l.LocalStorage("funnelevents")}return Object(s.a)(e,[{key:"track",value:function(){var e=Object(a.a)(i.a.mark(function e(t,n){var r,o,a=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},"object"===typeof n){e.next=3;break}throw new Error("message should be an Object");case 3:if(w(r)){e.next=5;break}throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");case 5:return e.prev=5,o=new S(this.store,t,r),e.next=9,o.buildMessage(n);case 9:return this.grapplerLogger.sendCustomEvent("funnel_events",t,o.get()),e.abrupt("return",{guid:o.get().header.guid});case 13:e.prev=13,e.t0=e.catch(5),c.a.logError({message:e.t0.message,level:c.a.ERROR_LEVEL.ERROR,component:"saddlebag-funnel-events",event:t});case 16:return e.abrupt("return",{});case 17:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"trackBatch",value:function(){var e=Object(a.a)(i.a.mark(function e(t,n){var o,a,u,s=this,f=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>2&&void 0!==f[2]?f[2]:{},w(o)){e.next=3;break}throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");case 3:return e.prev=3,a=n.map(function(e,n){if("object"!==typeof e)throw new Error("message should be an Object");return new S(s.store,t,Object(r.a)({},o,{store_guid:o.store_guid===n})).buildMessage(e)}),e.next=7,Promise.all(a);case 7:return u=e.sent,this.grapplerLogger.sendCustomEvents("funnel_events",t,u),e.abrupt("return",u.map(function(e){return{guid:e.header.guid}}));case 12:e.prev=12,e.t0=e.catch(3),c.a.logError({message:e.t0.message,level:c.a.ERROR_LEVEL.ERROR,component:"saddlebag-funnel-events",event:t});case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}},e,this,[[3,12]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"tryGetEventGuid",value:function(e){return this.store.tryGetValue(k(e),!1,!0)}},{key:"eventHasBeenLogged",value:function(e,t){var n=this.store.tryGetValue(_(e));if(!n)return!1;var r=JSON.parse(n);return!(r.logged_at<=Object(f.now)().getTime()-18e5)&&(delete r.logged_at,JSON.stringify(t)===JSON.stringify(r))}},{key:"markEventAsLogged",value:function(e,t){var n=Object(r.a)({logged_at:Object(f.now)().getTime()},t);this.store.trySetValue(_(e),JSON.stringify(n))}}]),e}(),x=function(e,t){if(!w(t))throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");var n=new l.LocalStorage("funnelevents");E(n,k(e),t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(22),o=n(9).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(15),o=n(203),i=n(57),a=n(55)("IE_PROTO"),u=function(){},s=function(){var e,t=n(52)("iframe"),r=i.length;for(t.style.display="none",n(81).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(56)("keys"),o=n(44);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(7),o=n(9),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(34)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(51);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(37),o=n(10)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(41);function o(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(9),o=n(7),i=n(34),a=n(61),u=n(21).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.millisToSeconds=t.secondsToMillis=t.randomOffsetMillis=t.getClientUTCTime=void 0;var r=n(16);t.getClientUTCTime=function(){return(0,r.now)().getTime()},t.randomOffsetMillis=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return Math.floor(Math.random()*(t-e+1)+e)},t.secondsToMillis=function(e){return 1e3*e},t.millisToSeconds=function(e){return e/1e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PERSISTENT="PERSISTENT",t.TEMPORARY="TEMPORARY",t.LEGACY="LEGACY",t.MOBILE="MOBILE",t.INVALID="INVALID"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionTypes=t.getSessionValidator=t.isUserLoggedIn=t.getSessionTypeFromCookie=t.getSession=void 0;var r,o=n(196),i=n(95),a=(r=i)&&r.__esModule?r:{default:r},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(65));t.getSession=a.default,t.getSessionTypeFromCookie=i.getSessionTypeFromCookie,t.isUserLoggedIn=o.isUserLoggedIn,t.getSessionValidator=o.singleton,t.SessionTypes=u},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));t.default=function(e,t){return e&&t?function(e,t){var n=t.map(function(e){var t=e.split("="),n=r(t,2);return{key:n[0],value:n[1]}}).filter(function(t){return t.key===e&&null!==t.value});return n.length>0?n[0].value:null}(e,t.split(o.COOKIE_SEPARATOR).map(function(e){return e.trim()})):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(72)),i=a(n(73));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modified=!1,this._cookieObject=(0,o.default)(t)||{}}return r(e,[{key:"getValue",value:function(e){return this._cookieObject[e]}},{key:"setValue",value:function(e,t){return this._cookieObject[e]=t,this._modified=!0,this}},{key:"deleteValue",value:function(e){return delete this._cookieObject[e],this._modified=!0,this}},{key:"clear",value:function(){return this._cookieObject={},this._modified=!0,this}},{key:"isModified",value:function(){return this._modified}},{key:"keys",value:function(){return Object.keys(this._cookieObject)}},{key:"serializeToString",value:function(){return(0,i.default)(this._cookieObject)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));t.default=function(e){if(!e||"string"!==typeof e)return null;var t=e.split(o.PAIR_SEPARATOR),n={};return t.forEach(function(e){if(-1!==e.indexOf(o.KEY_VALUE_SEPARATOR)){var t=e.split(o.KEY_VALUE_SEPARATOR),i=r(t,2),a=i[0],u=i[1];n[a]=decodeURIComponent(u)}else n[e]=null}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"";if("string"===typeof e)return e;var t=Object.keys(e);if(0===t.length)return"";return t.map(function(t){return o(t,e[t])}).reduce(i)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));var o=function(e,t){return t?""+e+r.KEY_VALUE_SEPARATOR+t:e},i=function(e,t){return e?""+e+r.PAIR_SEPARATOR+t:t}},function(e,t){},function(e,t,n){"use strict";var r=n(34),o=n(18),i=n(77),a=n(26),u=n(30),s=n(202),c=n(45),f=n(206),l=n(10)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,g,y){s(n,t,h);var m,b,w,k=function(e){if(!d&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",E="values"==v,S=!1,O=e.prototype,x=O[l]||O["@@iterator"]||v&&O[v],T=x||k(v),j=v?E?k("entries"):T:void 0,P="Array"==t&&O.entries||x;if(P&&(w=f(P.call(new e)))!==Object.prototype&&w.next&&(c(w,_,!0),r||"function"==typeof w[l]||a(w,l,p)),E&&x&&"values"!==x.name&&(S=!0,T=function(){return x.call(this)}),r&&!y||!d&&!S&&O[l]||a(O,l,T),u[t]=T,u[_]=p,v)if(m={values:E?T:k("values"),keys:g?T:k("keys"),entries:j},y)for(b in m)b in O||i(O,b,m[b]);else o(o.P+o.F*(d||S),t,m);return m}},function(e,t,n){e.exports=!n(19)&&!n(36)(function(){return 7!=Object.defineProperty(n(52)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(26)},function(e,t,n){var r=n(27),o=n(31),i=n(204)(!1),a=n(55)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(37);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(50),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(9).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(59),o=n(10)("iterator"),i=n(30);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(15),o=n(41),i=n(10)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(35),u=n(215),s=n(81),c=n(52),f=n(9),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){u("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete y[e]},"process"==n(37)(l)?r=function(e){l.nextTick(a(m,e,1))}:v&&v.now?r=function(e){v.now(a(m,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(15),o=n(22),i=n(60);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(230)),o=a(n(232)),i="function"===typeof o.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof o.default&&"symbol"===i(r.default)?function(e){return"undefined"===typeof e?"undefined":i(e)}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":"undefined"===typeof e?"undefined":i(e)}},function(e,t,n){var r=n(78),o=n(57).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(47),o=n(42),i=n(31),a=n(53),u=n(27),s=n(76),c=Object.getOwnPropertyDescriptor;t.f=n(19)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(n){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(252),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AUTH_TYPE_SIGN_UP="Sign Up",t.AUTH_TYPE_LOGIN="Login",t.AUTH_TYPE_REAUTH="Reauth",t.AUTH_TYPE_LOGOUT="Logout",t.AUTH_TYPE_REVOKE_SESSIONS="Revoke Sessions",t.AUTH_TYPE_PASSWORD_RESET="Password Reset",t.SOCIAL_LOGIN_POPUP_CLOSED="Social Login Popup Closed",t.LOGIN_BUTTON_CLICKED="Login Button Clicked",t.LOGIN_OPENED="Login Opened"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(90)),o=h(n(13)),i=h(n(14)),a=h(n(8)),u=h(n(11)),s=h(n(23)),c=h(n(24)),f=n(38),l=n(257),d=h(n(28)),p=n(91);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){var n=e.authConsumer,r=e.market;(0,a.default)(this,t);var o=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.grapplerLogger=new f.GrapplerLogger("public","login"),o.authConsumer=n,o.market=r,o}return(0,c.default)(t,e),(0,u.default)(t,[{key:"publishSignupSuccess",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.provider;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.AUTH_TYPE_SIGN_UP+" Succeeded",{untrustedAnonymousUtid:(0,l.getUntrustedAnonymousUtid)(),provider:n});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.authError,r=t.provider;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerError(p.AUTH_TYPE_SIGN_UP+" Failed",n,{untrustedAnonymousUtid:(0,l.getUntrustedAnonymousUtid)(),provider:r});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.provider,r=t.isNewUser,i=t.sessionType;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.AUTH_TYPE_LOGIN+" Succeeded",{untrustedAnonymousUtid:(0,l.getUntrustedAnonymousUtid)(),provider:n,isNewUser:r.toString(),sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.authError,r=t.provider,i=t.sessionType;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerError(p.AUTH_TYPE_LOGIN+" Failed",n,{untrustedAnonymousUtid:(0,l.getUntrustedAnonymousUtid)(),provider:r,sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.provider,r=t.sessionType;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.AUTH_TYPE_REAUTH+" Succeeded",{provider:n,sessionType:r});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.authError,r=t.provider;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerError(p.AUTH_TYPE_REAUTH+" Failed",n,{provider:r});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.cause,r=t.utid,i=t.sessionType;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.AUTH_TYPE_LOGOUT+" Succeeded",{cause:n,utid:r,sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.authError,r=t.cause,i=t.sessionType;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerError(p.AUTH_TYPE_LOGOUT+" Failed",n,{cause:r,sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.cause,r=t.utid,i=t.sessionType;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.AUTH_TYPE_REVOKE_SESSIONS+" Succeeded",{cause:n,utid:r,sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n,r=t.authError;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=p.AUTH_TYPE_REVOKE_SESSIONS+" Failed",this.publishGrapplerError(n,r);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.AUTH_TYPE_PASSWORD_RESET+" Succeeded");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.authError;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerError(p.AUTH_TYPE_PASSWORD_RESET+" Failed",n);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n=t.provider,r=t.isReauthentication;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent(p.SOCIAL_LOGIN_POPUP_CLOSED,{provider:n,isReauthentication:r.toString()});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=(0,i.default)(o.default.mark(function e(t){var n,r=t.provider,i=t.market;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,this.publishGrapplerEvent(p.LOGIN_BUTTON_CLICKED,{provider:r,authConsumer:n,market:i});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.authConsumer,n=this.market,this.publishGrapplerEvent(p.LOGIN_OPENED,{authConsumer:t,market:n});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishError",value:function(e){var t=e.name,n=e.err;this.publishGrapplerError(t,n)}},{key:"publishGrapplerEvent",value:function(e,t){try{var n=this.authConsumer,o=this.market;this.grapplerLogger.sendApplogMessage({message:e,severity:"INFO",fields:(0,r.default)({authConsumer:n,market:o},t)})}catch(i){}}},{key:"publishGrapplerError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var o=this.authConsumer,i=this.market,a=t.name,u=t.message,s=t.stack,c=t.errorCode;this.grapplerLogger.sendApplogMessage({message:e,severity:"ERR",fields:(0,r.default)({authConsumer:o,market:i},n),exception:{type:a,traceback:s,message:u||c}})}catch(f){}}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.config={baseUrl:"http://localhost:5002",eventPublishingEnabled:!1,retryInterval:15e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.config={baseUrl:"/g/traveller-auth-service",eventPublishingEnabled:!0,retryInterval:15e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionTypeFromCookie=void 0;var r=n(17),o=n(20),i=n(65),a=function(e){return"https://skyscanner.net/"+e},u=function(){try{var e=new r.SingleValueCookie("sid_session_token").getValue();if(!e)return{};var t=e.split(".")[1];return JSON.parse(window.atob(t))}catch(n){return{}}},s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:u())[a("sessionType")]};t.getSessionTypeFromCookie=s,t.default=function(){try{var e=u(),t=s(e);if(t)switch(t){case i.PERSISTENT:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:i.PERSISTENT,accessTokenExpiry:e[a("accessTokenExpiry")],accessTokenExpiryDate:new Date(e[a("accessTokenExpiry")])})}(e);case i.MOBILE:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:i.MOBILE})}(e);default:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:i.TEMPORARY,maxIdleSeconds:e[a("maxIdleSeconds")],sessionExpiry:e[a("sessionExpiry")],sessionExpiryDate:new Date(e[a("sessionExpiry")])})}(e)}var n=new r.SingleValueCookie("sid_utid").getValue(),c=new o.LocalStorage("SID").tryGetValue("sessionType");return n&&c&&c!==i.LEGACY?Object.freeze({sessionType:i.INVALID}):n?function(e){return Object.freeze({utid:e,sessionType:i.LEGACY})}(n):void 0}catch(f){return}}},function(e,t,n){!function(){var t=n(185),r=n(67).utf8,o=n(186),i=n(67).bin,a=function e(n,a){n.constructor==String?n=a&&"binary"===a.encoding?i.stringToBytes(n):r.stringToBytes(n):o(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var u=t.bytesToWords(n),s=8*n.length,c=1732584193,f=-271733879,l=-1732584194,d=271733878,p=0;p<u.length;p++)u[p]=16711935&(u[p]<<8|u[p]>>>24)|4278255360&(u[p]<<24|u[p]>>>8);u[s>>>5]|=128<<s%32,u[14+(s+64>>>9<<4)]=s;var h=e._ff,v=e._gg,g=e._hh,y=e._ii;for(p=0;p<u.length;p+=16){var m=c,b=f,w=l,k=d;c=h(c,f,l,d,u[p+0],7,-680876936),d=h(d,c,f,l,u[p+1],12,-389564586),l=h(l,d,c,f,u[p+2],17,606105819),f=h(f,l,d,c,u[p+3],22,-1044525330),c=h(c,f,l,d,u[p+4],7,-176418897),d=h(d,c,f,l,u[p+5],12,1200080426),l=h(l,d,c,f,u[p+6],17,-1473231341),f=h(f,l,d,c,u[p+7],22,-45705983),c=h(c,f,l,d,u[p+8],7,1770035416),d=h(d,c,f,l,u[p+9],12,-1958414417),l=h(l,d,c,f,u[p+10],17,-42063),f=h(f,l,d,c,u[p+11],22,-1990404162),c=h(c,f,l,d,u[p+12],7,1804603682),d=h(d,c,f,l,u[p+13],12,-40341101),l=h(l,d,c,f,u[p+14],17,-1502002290),c=v(c,f=h(f,l,d,c,u[p+15],22,1236535329),l,d,u[p+1],5,-165796510),d=v(d,c,f,l,u[p+6],9,-1069501632),l=v(l,d,c,f,u[p+11],14,643717713),f=v(f,l,d,c,u[p+0],20,-373897302),c=v(c,f,l,d,u[p+5],5,-701558691),d=v(d,c,f,l,u[p+10],9,38016083),l=v(l,d,c,f,u[p+15],14,-660478335),f=v(f,l,d,c,u[p+4],20,-405537848),c=v(c,f,l,d,u[p+9],5,568446438),d=v(d,c,f,l,u[p+14],9,-1019803690),l=v(l,d,c,f,u[p+3],14,-187363961),f=v(f,l,d,c,u[p+8],20,1163531501),c=v(c,f,l,d,u[p+13],5,-1444681467),d=v(d,c,f,l,u[p+2],9,-51403784),l=v(l,d,c,f,u[p+7],14,1735328473),c=g(c,f=v(f,l,d,c,u[p+12],20,-1926607734),l,d,u[p+5],4,-378558),d=g(d,c,f,l,u[p+8],11,-2022574463),l=g(l,d,c,f,u[p+11],16,1839030562),f=g(f,l,d,c,u[p+14],23,-35309556),c=g(c,f,l,d,u[p+1],4,-1530992060),d=g(d,c,f,l,u[p+4],11,1272893353),l=g(l,d,c,f,u[p+7],16,-155497632),f=g(f,l,d,c,u[p+10],23,-1094730640),c=g(c,f,l,d,u[p+13],4,681279174),d=g(d,c,f,l,u[p+0],11,-358537222),l=g(l,d,c,f,u[p+3],16,-722521979),f=g(f,l,d,c,u[p+6],23,76029189),c=g(c,f,l,d,u[p+9],4,-640364487),d=g(d,c,f,l,u[p+12],11,-421815835),l=g(l,d,c,f,u[p+15],16,530742520),c=y(c,f=g(f,l,d,c,u[p+2],23,-995338651),l,d,u[p+0],6,-198630844),d=y(d,c,f,l,u[p+7],10,1126891415),l=y(l,d,c,f,u[p+14],15,-1416354905),f=y(f,l,d,c,u[p+5],21,-57434055),c=y(c,f,l,d,u[p+12],6,1700485571),d=y(d,c,f,l,u[p+3],10,-1894986606),l=y(l,d,c,f,u[p+10],15,-1051523),f=y(f,l,d,c,u[p+1],21,-2054922799),c=y(c,f,l,d,u[p+8],6,1873313359),d=y(d,c,f,l,u[p+15],10,-30611744),l=y(l,d,c,f,u[p+6],15,-1560198380),f=y(f,l,d,c,u[p+13],21,1309151649),c=y(c,f,l,d,u[p+4],6,-145523070),d=y(d,c,f,l,u[p+11],10,-1120210379),l=y(l,d,c,f,u[p+2],15,718787259),f=y(f,l,d,c,u[p+9],21,-343485551),c=c+m>>>0,f=f+b>>>0,l=l+w>>>0,d=d+k>>>0}return t.endian([c,f,l,d])};a._ff=function(e,t,n,r,o,i,a){var u=e+(t&n|~t&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._gg=function(e,t,n,r,o,i,a){var u=e+(t&r|n&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._hh=function(e,t,n,r,o,i,a){var u=e+(t^n^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._ii=function(e,t,n,r,o,i,a){var u=e+(n^(t|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}}()},function(e,t,n){var r="undefined"!==typeof JSON?JSON:n(187);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n=t.space||"";"number"===typeof n&&(n=Array(n+1).join(" "));var a,u="boolean"===typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},c=t.cmp&&(a=t.cmp,function(e){return function(t,n){var r={key:t,value:e[t]},o={key:n,value:e[n]};return a(r,o)}}),f=[];return function e(t,a,l,d){var p=n?"\n"+new Array(d+1).join(n):"",h=n?": ":":";if(l&&l.toJSON&&"function"===typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=s.call(t,a,l))){if("object"!==typeof l||null===l)return r.stringify(l);if(o(l)){for(var v=[],g=0;g<l.length;g++){var y=e(l,g,l[g],d+1)||r.stringify(null);v.push(p+n+y)}return"["+v.join(",")+p+"]"}if(-1!==f.indexOf(l)){if(u)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}f.push(l);var m=i(l).sort(c&&c(l));for(v=[],g=0;g<m.length;g++){var b=e(l,a=m[g],l[a],d+1);if(b){var w=r.stringify(a)+h+b;v.push(p+n+w)}}return f.splice(f.indexOf(l),1),"{"+v.join(",")+p+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(module,exports,__webpack_require__){"use strict";function decycle(e){var t=[],n=[];return function e(r,o){var i,a,u,s=r&&r.toJSON instanceof Function?r.toJSON():r;if("object"===typeof s&&null!==s){for(i=0;i<t.length;i+=1)if(t[i]===s)return{$ref:n[i]};if(t.push(s),n.push(o),"[object Array]"===Object.prototype.toString.apply(s))for(u=[],i=0;i<s.length;i+=1)u[i]=e(s[i],o+"["+i+"]");else for(a in u={},s)Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=e(s[a],o+"["+JSON.stringify(a)+"]"));return u}return s}(e,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"===typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"===typeof item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"===typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}module.exports={stringify:function(e,t,n){return JSON.stringify(decycle(e),t,n)},parse:function(e,t){return retrocycle(JSON.parse(e,t))},decycle:decycle,retrocycle:retrocycle}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(279)},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){t.parse=n(188),t.stringify=n(189)},function(e,t){var n,r,o,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(e){throw{name:"SyntaxError",message:e,at:n,text:o}},s=function(e){return e&&e!==r&&u("Expected '"+e+"' instead of '"+r+"'"),r=o.charAt(n),n+=1,r},c=function(){var e,t="";for("-"===r&&(t="-",s("-"));r>="0"&&r<="9";)t+=r,s();if("."===r)for(t+=".";s()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,s(),"-"!==r&&"+"!==r||(t+=r,s());r>="0"&&r<="9";)t+=r,s();if(e=+t,isFinite(e))return e;u("Bad number")},f=function(){var e,t,n,o="";if('"'===r)for(;s();){if('"'===r)return s(),o;if("\\"===r)if(s(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)n=16*n+e;o+=String.fromCharCode(n)}else{if("string"!==typeof a[r])break;o+=a[r]}else o+=r}u("Bad string")},l=function(){for(;r&&r<=" ";)s()},d=function(){var e=[];if("["===r){if(s("["),l(),"]"===r)return s("]"),e;for(;r;){if(e.push(i()),l(),"]"===r)return s("]"),e;s(","),l()}}u("Bad array")},p=function(){var e,t={};if("{"===r){if(s("{"),l(),"}"===r)return s("}"),t;for(;r;){if(e=f(),l(),s(":"),Object.hasOwnProperty.call(t,e)&&u('Duplicate key "'+e+'"'),t[e]=i(),l(),"}"===r)return s("}"),t;s(","),l()}}u("Bad object")};i=function(){switch(l(),r){case"{":return p();case"[":return d();case'"':return f();case"-":return c();default:return r>="0"&&r<="9"?c():function(){switch(r){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}u("Unexpected '"+r+"'")}()}},e.exports=function(e,t){var a;return o=e,n=0,r=" ",a=i(),l(),r&&u("Syntax error"),"function"===typeof t?function e(n,r){var o,i,a=n[r];if(a&&"object"===typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=e(a,o))?a[o]=i:delete a[o]);return t.call(n,r,a)}({"":a},""):a}},function(e,t){var n,r,o,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function u(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=a[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,t,i){var a;if(n="",r="","number"===typeof i)for(a=0;a<i;a+=1)r+=" ";else"string"===typeof i&&(r=i);if(o=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return function e(t,i){var a,s,c,f,l,d=n,p=i[t];switch(p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(t)),"function"===typeof o&&(p=o.call(i,t,p)),typeof p){case"string":return u(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(n+=r,l=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,a=0;a<f;a+=1)l[a]=e(a,p)||"null";return c=0===l.length?"[]":n?"[\n"+n+l.join(",\n"+n)+"\n"+d+"]":"["+l.join(",")+"]",n=d,c}if(o&&"object"===typeof o)for(f=o.length,a=0;a<f;a+=1)"string"===typeof(s=o[a])&&(c=e(s,p))&&l.push(u(s)+(n?": ":":")+c);else for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(c=e(s,p))&&l.push(u(s)+(n?": ":":")+c);return c=0===l.length?"{}":n?"{\n"+n+l.join(",\n"+n)+"\n"+d+"}":"{"+l.join(",")+"}",n=d,c}}("",{"":e})}},function(e,t,n){var r,o,i=n(68),a=n(69),u=0,s=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==l||null==d){var p=i();null==l&&(l=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:s+1,g=h-u+(v-s)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>u)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,s=v,o=d;var y=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=h/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=d>>>8|128,f[c++]=255&d;for(var b=0;b<6;++b)f[c+b]=l[b];return t||a(f)}},function(e,t,n){var r=n(68),o=n(69);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(193),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"===typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(I([])));m&&m!==r&&o.call(m,a)&&(g=m);var b=S.prototype=_.prototype=Object.create(g);E.prototype=b.constructor=S,S.constructor=E,S[s]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},O(x.prototype),x.prototype[u]=function(){return this},f.AsyncIterator=x,f.async=function(e,t,n,r){var o=new x(w(e,t,n,r));return f.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return u.type="throw",u.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,n,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new L(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=T(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=k(e,t,n);if("normal"===s.type){if(r=n.done?h:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function _(){}function E(){}function S(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,a){var u=k(e[n],e,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},function(e){return t("throw",e,i,a)})}a(u.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=k(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(70),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=(0,i.default)(e,t);return n&&"string"===typeof n?n:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e,t);return n?new r.default(n):null};var r=i(n(71)),o=i(n(70));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUserLoggedIn=t.singleton=void 0;var r=w(n(13)),o=w(n(14)),i=w(n(8)),a=w(n(11)),u=w(n(226)),s=w(n(267)),c=w(n(269)),f=w(n(271)),l=n(64),d=n(48),p=w(d),h=w(n(273)),v=w(n(95)),g=w(n(274)),y=n(65),m=n(275),b=n(276);function w(e){return e&&e.__esModule?e:{default:e}}var k=function(){function e(){(0,i.default)(this,e);var t=(0,d.getEnvFromUrl)(),n=(0,p.default)(t),r=n.baseUrl,o=n.eventPublishingEnabled,a=n.retryInterval;this.metricPublisher=new s.default(o),this.validateSessionClient=new c.default(r,this.metricPublisher),this.activityTracker=new f.default,this.eventPublisher=new u.default(t,"session-validation"),this.scheduler=new h.default({retryInterval:a}),this.checkPersistentSession=this.checkPersistentSession.bind(this),this.stop=this.stop.bind(this),this.restart=this.restart.bind(this),this.checkTempSession=this.checkTempSession.bind(this)}return(0,a.default)(e,[{key:"getValidatedSession",value:function(){return this.promise||(this.promise=this.validateSession()),this.promise}},{key:"stop",value:function(){this.scheduler.cancel(),this.activityTracker.stop(),this.promise=void 0,this.session=void 0}},{key:"restart",value:function(){this.stop(),this.promise=this.validateSession()}},{key:"validateSession",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(0,v.default)())||t.sessionType!==y.INVALID){e.next=5;break}return e.next=4,this.validateSessionClient.logout(m.SESSION_INVALID);case 4:return e.abrupt("return",void 0);case 5:if(this.session=t,!(this.session&&this.session.sessionType!==y.LEGACY&&this.session.sessionType!==y.MOBILE)){e.next=19;break}this.activityTracker.start(),e.t0=this.session.sessionType,e.next=e.t0===y.PERSISTENT?12:e.t0===y.TEMPORARY?15:18;break;case 12:return e.next=14,this.checkPersistentSession();case 14:return e.abrupt("break",19);case 15:return e.next=17,this.checkTempSession();case 17:case 18:return e.abrupt("break",19);case 19:return e.abrupt("return",this.session);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_handleSessionValidation",value:function(e,t,n){var r=e.status,o=e.reason;switch(r){case b.PERSISTENT_SESSION_REFRESHED:case b.PERSISTENT_SESSION_EXTENDED:case b.PERSISTENT_SESSION_NO_REFRESH:this.scheduler.schedulePersistent(this.checkPersistentSession,this.session);break;case b.PERSISTENT_SESSION_LOGGED_OUT:this._invalidateSession("inactive"===o?m.SESSION_INACTIVE:m.SESSION_LOGGED_OUT,t,n);break;default:this.stop()}}},{key:"_performRetry",value:function(e){var t=new g.default({errorMessage:e.message,traceback:e.stack});this.eventPublisher.publishSessionValidationError({authError:t}),this.scheduler.scheduleRetry(this.checkPersistentSession)}},{key:"_invalidateSession",value:function(e,t,n){this.eventPublisher.publishLogoutSuccess({cause:e,utid:t,sessionType:n}),this.stop()}},{key:"isSessionActive",value:function(){var e=(0,l.secondsToMillis)(this.session.maxIdleSeconds);return this.activityTracker.getIdleTimeMillis()<=e}},{key:"checkPersistentSession",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,n,o,i,a,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.session,n=t.utid,o=t.accessTokenExpiry,!((0,l.getClientUTCTime)()>o)){e.next=13;break}return i=(0,l.millisToSeconds)(this.activityTracker.getIdleTimeMillis()),a=(0,l.getClientUTCTime)(),e.next=8,this.validateSessionClient.validate(i,a);case 8:u=e.sent,this.session=(0,v.default)(),this._handleSessionValidation(u,n),e.next=14;break;case 13:this.scheduler.schedulePersistent(this.checkPersistentSession,this.session);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this._performRetry(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"checkTempSession",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,n,o,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.session,n=t.utid,o=t.sessionExpiry,i=t.sessionType,!((0,l.getClientUTCTime)()>o)){e.next=8;break}return e.next=5,this.validateSessionClient.logout(m.SESSION_EXPIRED);case 5:this._invalidateSession(m.SESSION_EXPIRED,n,i),e.next=15;break;case 8:if(this.isSessionActive()){e.next=14;break}return e.next=11,this.validateSessionClient.logout(m.SESSION_INACTIVE);case 11:this._invalidateSession(m.SESSION_INACTIVE,n,i),e.next=15;break;case 14:this.scheduler.scheduleTemporary(this.checkTempSession,this.session);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),_=t.singleton=function(){return window.SessionValidator||(window.SessionValidator=new k),window.SessionValidator};t.isUserLoggedIn=function(){var e=(0,o.default)(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=_(),e.next=3,t.getValidatedSession();case 3:return n=e.sent,e.abrupt("return",void 0!==n);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(198),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"===typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(I([])));m&&m!==r&&o.call(m,a)&&(g=m);var b=S.prototype=_.prototype=Object.create(g);E.prototype=b.constructor=S,S.constructor=E,S[s]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},O(x.prototype),x.prototype[u]=function(){return this},f.AsyncIterator=x,f.async=function(e,t,n,r){var o=new x(w(e,t,n,r));return f.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return u.type="throw",u.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,n,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new L(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=T(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=k(e,t,n);if("normal"===s.type){if(r=n.done?h:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function _(){}function E(){}function S(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,a){var u=k(e[n],e,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=k(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(200),__esModule:!0}},function(e,t,n){n(74),n(40),n(46),n(210),n(221),n(222),e.exports=n(7).Promise},function(e,t,n){var r=n(50),o=n(51);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(54),o=n(42),i=n(45),a={};n(26)(a,n(10)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(21),o=n(15),i=n(43);e.exports=n(19)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(31),o=n(80),i=n(205);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),f=i(a,c);if(e&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(50),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(27),o=n(58),i=n(55)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(208),o=n(209),i=n(30),a=n(31);e.exports=n(75)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,o,i,a,u=n(34),s=n(9),c=n(35),f=n(59),l=n(18),d=n(22),p=n(41),h=n(211),v=n(212),g=n(83),y=n(84).set,m=n(216)(),b=n(60),w=n(85),k=n(217),_=n(86),E=s.TypeError,S=s.process,O=S&&S.versions,x=O&&O.v8||"",T=s.Promise,j="process"==f(S),P=function(){},L=o=b.f,I=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(10)("species")]=function(e){e(P,P)};return(j||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==x.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(r){}}(),C=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,u=o?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(o||(2==e._h&&R(e),e._h=1),!0===u?n=r:(f&&f.enter(),n=u(r),f&&(f.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(i=C(n))?i.call(n,s,c):s(n)):c(r)}catch(l){f&&!a&&f.exit(),c(l)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){y.call(s,function(){var t,n,r,o=e._v,i=N(e);if(i&&(t=w(function(){j?S.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=j||N(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){y.call(s,function(){var t;j?S.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},D=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw E("Promise can't be resolved itself");(n=C(t))?m(function(){var o={_w:r,_d:!1};try{n.call(t,c(e,o,1),c(U,o,1))}catch(i){U.call(o,i)}}):(r._v=t,r._s=1,A(r,!1))}catch(o){U.call({_w:r,_d:!1},o)}}};I||(T=function(e){h(this,T,"Promise","_h"),p(e),r.call(this);try{e(c(D,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(218)(T.prototype,{then:function(e,t){var n=L(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=j?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(D,e,1),this.reject=c(U,e,1)},b.f=L=function(e){return e===T||e===a?new i(e):o(e)}),l(l.G+l.W+l.F*!I,{Promise:T}),n(45)(T,"Promise"),n(219)("Promise"),a=n(7).Promise,l(l.S+l.F*!I,"Promise",{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!I),"Promise",{resolve:function(e){return _(u&&this===a?T:this,e)}}),l(l.S+l.F*!(I&&n(220)(function(e){T.all(e).catch(P)})),"Promise",{all:function(e){var t=this,n=L(t),r=n.resolve,o=n.reject,i=w(function(){var n=[],i=0,a=1;v(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=L(t),r=n.reject,o=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(35),o=n(213),i=n(214),a=n(15),u=n(80),s=n(82),c={},f={};(t=e.exports=function(e,t,n,l,d){var p,h,v,g,y=d?function(){return e}:s(e),m=r(n,l,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=u(e.length);p>b;b++)if((g=t?m(a(h=e[b])[0],h[1]):m(e[b]))===c||g===f)return g}else for(v=y.call(e);!(h=v.next()).done;)if((g=o(v,m,h.value,t))===c||g===f)return g}).BREAK=c,t.RETURN=f},function(e,t,n){var r=n(15);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},function(e,t,n){var r=n(30),o=n(10)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9),o=n(84).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(37)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve(void 0);n=function(){f.then(c)}}else n=function(){o.call(r,c)};else{var l=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(9).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(26);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(9),o=n(7),i=n(21),a=n(19),u=n(10)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(10)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},e(i)}catch(a){}return n}},function(e,t,n){"use strict";var r=n(18),o=n(7),i=n(9),a=n(83),u=n(86);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(18),o=n(60),i=n(85);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(224),__esModule:!0}},function(e,t,n){n(225);var r=n(7).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(18);r(r.S+r.F*!n(19),"Object",{defineProperty:n(21).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(227),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(8)),o=u(n(11)),i=n(228),a=n(259);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n,o){(0,r.default)(this,e);var u=(0,a.getMarket)(o);this.publishers=(0,i.getPublishers)(t,n,u),this.errorPublisher=(0,i.getErrorPublisher)(t,n,u)}return(0,o.default)(e,[{key:"publishSignupSuccess",value:function(e){var t=e.provider;return this._publishEvent("publishSignupSuccess",{provider:t})}},{key:"publishSignupError",value:function(e){var t=e.authError,n=e.provider;return this._publishEvent("publishSignupError",{authError:t,provider:n})}},{key:"publishLoginSuccess",value:function(e){var t=e.message,n=e.isNewUser,r=e.provider,o=e.sessionType;return this._publishEvent("publishLoginSuccess",{message:t,isNewUser:n,provider:r,sessionType:o})}},{key:"publishReauthSuccess",value:function(e){var t=e.message,n=e.provider,r=e.sessionType;return this._publishEvent("publishReauthSuccess",{message:t,provider:n,sessionType:r})}},{key:"publishLoginError",value:function(e){var t=e.authError,n=e.provider,r=e.sessionType;return this._publishEvent("publishLoginError",{authError:t,provider:n,sessionType:r})}},{key:"publishReauthError",value:function(e){var t=e.authError,n=e.provider,r=e.sessionType;return this._publishEvent("publishReauthError",{authError:t,provider:n,sessionType:r})}},{key:"publishSessionValidationError",value:function(e){var t=e.authError;return this._publishEvent("publishSessionValidationError",{authError:t})}},{key:"publishLogoutSuccess",value:function(e){var t=e.cause,n=e.utid,r=e.sessionType;return this._publishEvent("publishLogoutSuccess",{cause:t,utid:n,sessionType:r})}},{key:"publishLogoutError",value:function(e){var t=e.authError,n=e.cause,r=e.sessionType;return this._publishEvent("publishLogoutError",{authError:t,cause:n,sessionType:r})}},{key:"publishRevokeSessionsSuccess",value:function(e){var t=e.cause,n=e.utid,r=e.sessionType;return this._publishEvent("publishRevokeSessionsSuccess",{cause:t,utid:n,sessionType:r})}},{key:"publishRevokeSessionsError",value:function(e){var t=e.authError,n=e.cause,r=e.sessionType;return this._publishEvent("publishRevokeSessionsError",{authError:t,cause:n,sessionType:r})}},{key:"publishPasswordResetSuccess",value:function(){return this._publishEvent("publishPasswordResetSuccess")}},{key:"publishPasswordResetError",value:function(e){var t=e.authError;return this._publishEvent("publishPasswordResetError",{authError:t})}},{key:"publishSocialLoginPopupClosed",value:function(e){var t=e.provider,n=e.isReauthentication;return this._publishEvent("publishSocialLoginPopupClosed",{provider:t,isReauthentication:n})}},{key:"publishLoginButtonClicked",value:function(e){var t=e.provider,n=e.market;return this._publishEvent("publishLoginButtonClicked",{provider:t,market:n})}},{key:"publishLoginOpened",value:function(){return this._publishEvent("publishLoginOpened")}},{key:"_publishEvent",value:function(e,t){var n=this;return Promise.all(this.publishers.map(function(r){return r[e](t).catch(function(e){return n._publishError(e,r)})}))}},{key:"_publishError",value:function(e,t){this.errorPublisher.publishError({name:t.constructor.name+" Event Publishing Error",err:e})}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorPublisher=t.getPublishers=void 0;var r=f(n(229)),o=f(n(248)),i=f(n(249)),a=f(n(250)),u=f(n(256)),s=f(n(92)),c=f(n(258));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){if("production"===e)return!0;if("development"===e)return!1;throw new Error("Environment is required.")};t.getPublishers=function(e,t,n){return l(e)?[new a.default({authConsumer:t,market:n}),new u.default,new s.default({authConsumer:t,market:n}),new c.default({authConsumer:t}),new o.default({authConsumer:t})]:[new i.default({authConsumer:t}),new r.default]},t.getErrorPublisher=function(e,t,n){return l(e)?new s.default({authConsumer:t,market:n}):new r.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(13)),o=c(n(14)),i=c(n(8)),a=c(n(11)),u=c(n(23)),s=c(n(24));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){console.log("event",{event:e,data:t})}var l=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"publishSignupSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("SignupSuccess",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("SignupError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("LoginSuccess",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("ReauthSuccess",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("LoginError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("ReauthError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("ResetSuccess",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("PasswordResetError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("LogoutSuccess",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("LogoutError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("RevokeSessionsSuccess",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("RevokeSessionsError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("SessionValidationError",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("LoginClicked",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f("LoginOpened",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishError",value:function(e){f("Error",e)}}]),t}(c(n(28)).default);t.default=l},function(e,t,n){e.exports={default:n(231),__esModule:!0}},function(e,t,n){n(40),n(46),e.exports=n(61).f("iterator")},function(e,t,n){e.exports={default:n(233),__esModule:!0}},function(e,t,n){n(234),n(74),n(239),n(240),e.exports=n(7).Symbol},function(e,t,n){"use strict";var r=n(9),o=n(27),i=n(19),a=n(18),u=n(77),s=n(235).KEY,c=n(36),f=n(56),l=n(45),d=n(44),p=n(10),h=n(61),v=n(62),g=n(236),y=n(237),m=n(15),b=n(22),w=n(58),k=n(31),_=n(53),E=n(42),S=n(54),O=n(238),x=n(89),T=n(63),j=n(21),P=n(43),L=x.f,I=j.f,C=O.f,A=r.Symbol,M=r.JSON,N=M&&M.stringify,R=p("_hidden"),U=p("toPrimitive"),D={}.propertyIsEnumerable,V=f("symbol-registry"),G=f("symbols"),F=f("op-symbols"),W=Object.prototype,H="function"==typeof A&&!!T.f,B=r.QObject,Y=!B||!B.prototype||!B.prototype.findChild,J=i&&c(function(){return 7!=S(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=L(W,t);r&&delete W[t],I(e,t,n),r&&e!==W&&I(W,t,r)}:I,z=function(e){var t=G[e]=S(A.prototype);return t._k=e,t},q=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},K=function(e,t,n){return e===W&&K(F,t,n),m(e),t=_(t,!0),m(n),o(G,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=S(n,{enumerable:E(0,!1)})):(o(e,R)||I(e,R,E(1,{})),e[R][t]=!0),J(e,t,n)):I(e,t,n)},$=function(e,t){m(e);for(var n,r=g(t=k(t)),o=0,i=r.length;i>o;)K(e,n=r[o++],t[n]);return e},Z=function(e){var t=D.call(this,e=_(e,!0));return!(this===W&&o(G,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(G,e)||o(this,R)&&this[R][e])||t)},X=function(e,t){if(e=k(e),t=_(t,!0),e!==W||!o(G,t)||o(F,t)){var n=L(e,t);return!n||!o(G,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=C(k(e)),r=[],i=0;n.length>i;)o(G,t=n[i++])||t==R||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=C(n?F:k(e)),i=[],a=0;r.length>a;)!o(G,t=r[a++])||n&&!o(W,t)||i.push(G[t]);return i};H||(u((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0);return i&&Y&&J(W,e,{configurable:!0,set:function t(n){this===W&&t.call(F,n),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),J(this,e,E(1,n))}}),z(e)}).prototype,"toString",function(){return this._k}),x.f=X,j.f=K,n(88).f=O.f=Q,n(47).f=Z,T.f=ee,i&&!n(34)&&u(W,"propertyIsEnumerable",Z,!0),h.f=function(e){return z(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=P(p.store),oe=0;re.length>oe;)v(re[oe++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(V,e+="")?V[e]:V[e]=A(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):$(S(e),t)},defineProperty:K,defineProperties:$,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=c(function(){T.f(1)});a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),M&&a(a.S+a.F*(!H||c(function(){var e=A();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,N.apply(M,r)}}),A.prototype[U]||n(26)(A.prototype,U,A.prototype.valueOf),l(A,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(44)("meta"),o=n(22),i=n(27),a=n(21).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(36)(function(){return s(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";f(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;f(e)}return e[r].w},onFreeze:function(e){return c&&l.NEED&&s(e)&&!i(e,r)&&f(e),e}}},function(e,t,n){var r=n(43),o=n(63),i=n(47);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(37);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(31),o=n(88).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},function(e,t,n){n(62)("asyncIterator")},function(e,t,n){n(62)("observable")},function(e,t,n){e.exports={default:n(242),__esModule:!0}},function(e,t,n){n(243),e.exports=n(7).Object.setPrototypeOf},function(e,t,n){var r=n(18);r(r.S,"Object",{setPrototypeOf:n(244).set})},function(e,t,n){var r=n(22),o=n(15),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(35)(Function.call,n(89).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(246),__esModule:!0}},function(e,t,n){n(247);var r=n(7).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(18);r(r.S,"Object",{create:n(54)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(13)),o=f(n(14)),i=f(n(8)),a=f(n(11)),u=f(n(23)),s=f(n(24)),c=f(n(2));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){var n=e.authConsumer;(0,i.default)(this,t);var r=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.authConsumer=n,r}return(0,s.default)(t,e),(0,a.default)(t,[{key:"publishSignupError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-signup-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n,o=t.message,i=t.isNewUser,a=t.sessionType,u=t.provider;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,c.default.publish("sid-login-success",{message:o,isNewUser:i,sessionType:a,provider:u,authConsumer:n});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.message,o=t.provider,i=t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-reauth-success",{message:n,provider:o,sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-login-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-reauth-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.cause;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-logout-success",{cause:n});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-logout-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.cause;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-revoke-sessions-success",{cause:n});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-revoke-sessions-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-session-validation-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(f(n(28)).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(13)),o=f(n(14)),i=f(n(8)),a=f(n(11)),u=f(n(23)),s=f(n(24)),c=f(n(2));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){var n=e.authConsumer;(0,i.default)(this,t);var r=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.authConsumer=n,r}return(0,s.default)(t,e),(0,a.default)(t,[{key:"publishSignupError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-signup-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n,o=t.message,i=t.isNewUser,a=t.sessionType,u=t.provider;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,c.default.publish("sid-login-success",{message:o,provider:u,isNewUser:i,sessionType:a,authConsumer:n});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.message,o=t.provider,i=t.sessionType;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-reauth-success",{message:n,provider:o,sessionType:i});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-login-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-reauth-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.cause;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-logout-success",{cause:n});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-logout-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.cause;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-revoke-sessions-success",{cause:n});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-revoke-sessions-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n=t.authError;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.default.publish("sid-session-validation-error",n.errorMessage);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(f(n(28)).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(251)),o=h(n(90)),i=h(n(13)),a=h(n(14)),u=h(n(8)),s=h(n(11)),c=h(n(23)),f=h(n(24)),l=h(n(2)),d=h(n(28)),p=n(91);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){var n=e.authConsumer,r=e.market;(0,u.default)(this,t);var o=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.authConsumer=n,o.market=r,o}return(0,f.default)(t,e),(0,s.default)(t,[{key:"publishSignupSuccess",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n=t.provider;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishMixpanelEvent({authType:p.AUTH_TYPE_SIGN_UP,provider:n,isSuccess:!0});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n=t.authError,r=t.provider;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishMixpanelEvent((0,o.default)({authType:p.AUTH_TYPE_SIGN_UP,provider:r,isSuccess:!1,"Error code":n.errorCode},n));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n=t.provider,r=t.isNewUser,o=t.sessionType;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishMixpanelEvent({authType:p.AUTH_TYPE_LOGIN,provider:n,isSuccess:!0,isNewUser:r,sessionType:o});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n=t.authError,r=t.provider,a=t.sessionType;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishMixpanelEvent((0,o.default)({authType:p.AUTH_TYPE_LOGIN,provider:r,isSuccess:!1,sessionType:a,"Error code":n.errorCode},n));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n=t.provider,r=t.sessionType;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishMixpanelEvent({authType:p.AUTH_TYPE_REAUTH,provider:n,isSuccess:!0,sessionType:r});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n=t.authError,r=t.provider,a=t.sessionType;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishMixpanelEvent((0,o.default)({authType:p.AUTH_TYPE_REAUTH,provider:r,isSuccess:!1,sessionType:a,"Error code":n.errorCode},n));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r=t.cause,o=t.sessionType;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,l.default.publish("tracking-event",{mixpanel:[{name:p.AUTH_TYPE_LOGOUT+" Succeeded",props:{authConsumer:n,cause:r,sessionType:o}}]});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r=t.authError,a=t.cause,u=t.sessionType;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,l.default.publish("tracking-event",{mixpanel:[{name:p.AUTH_TYPE_LOGOUT+" Failed",props:(0,o.default)({authConsumer:n,sessionType:u,cause:a,"Error code":r.errorCode},r)}]});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.authConsumer,l.default.publish("tracking-event",{mixpanel:[{name:p.AUTH_TYPE_PASSWORD_RESET+" Succeeded",props:{authConsumer:t}}]});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r=t.authError;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,l.default.publish("tracking-event",{mixpanel:[{name:p.AUTH_TYPE_PASSWORD_RESET+" Failed",props:(0,o.default)({authConsumer:n,"Error code":r.errorCode},r)}]});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r=t.provider,o=t.isReauthentication;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,l.default.publish("tracking-event",{mixpanel:[{name:p.SOCIAL_LOGIN_POPUP_CLOSED,props:{authConsumer:n,provider:r,isReauthentication:o}}]});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=(0,a.default)(i.default.mark(function e(t){var n,r=t.provider,o=t.market;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.authConsumer,l.default.publish("tracking-event",{mixpanel:[{name:"Login "+r+" Login Clicked",props:{provider:r,authConsumer:n,market:o}}]});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.authConsumer,n=this.market,l.default.publish("tracking-event",{mixpanel:[{name:"Login open",props:{authConsumer:t,market:n}}]});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishMixpanelEvent",value:function(e){var t=e.authType,n=e.provider,i=e.isSuccess,a=e.isNewUser,u=(0,r.default)(e,["authType","provider","isSuccess","isNewUser"]),s=this.authConsumer,c=i?"Succeeded":"Failed",f=n?"Login "+n+" "+t+" "+c:"Login "+t+" "+c;l.default.publish("tracking-event",{mixpanel:[{name:""+f,props:(0,o.default)({authConsumer:s,isNewUser:a},u)}]}),l.default.publish("tracking-event",{mixpanel:[{name:t+" "+c,props:(0,o.default)({authConsumer:s,provider:n,isNewUser:a},u)}]})}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){e.exports={default:n(253),__esModule:!0}},function(e,t,n){n(254),e.exports=n(7).Object.assign},function(e,t,n){var r=n(18);r(r.S+r.F,"Object",{assign:n(255)})},function(e,t,n){"use strict";var r=n(19),o=n(43),i=n(63),a=n(47),u=n(58),s=n(79),c=Object.assign;e.exports=!c||n(36)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=u(e),c=arguments.length,f=1,l=i.f,d=a.f;c>f;)for(var p,h=s(arguments[f++]),v=l?o(h).concat(l(h)):o(h),g=v.length,y=0;g>y;)p=v[y++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(13)),o=f(n(14)),i=f(n(8)),a=f(n(11)),u=f(n(23)),s=f(n(24)),c=f(n(2));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"publishSignupSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGAEvent("registeraccount_controls","submit","success");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGAEvent("login","submit","success",{42:"LoggedIn"});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"publishGAEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c.default.publish("tracking-event",{ga:[{category:e,action:t,label:n,dimensions:r}]})}}]),t}(f(n(28)).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUntrustedAnonymousUtid=void 0;var r=n(17);t.getUntrustedAnonymousUtid=function(){return new r.SingleValueCookie("traveller_context").getValue()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(13)),o=d(n(14)),i=d(n(8)),a=d(n(11)),u=d(n(23)),s=d(n(24)),c=n(17),f=d(n(49)),l=d(n(92));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){var n=e.authConsumer;(0,i.default)(this,t);var r=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.grapplerPublisher=new l.default({authConsumer:n}),r}return(0,s.default)(t,e),(0,a.default)(t,[{key:"publishLoginSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new f.default("public","login"),n=new c.SingleValueCookie("traveller_context"),e.next=5,t.track("clients.AuthenticationStatusChange",{previous_traveller_identity:{utid:n.getValue(),authentication_status:"UNAUTHENTICATED"}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.grapplerPublisher.publishGrapplerError("Failed to send AuthenticationStatusChange funnel event",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n,o=t.utid;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new f.default("public","logout"),e.next=4,n.track("clients.AuthenticationStatusChange",{previous_traveller_identity:{utid:o,authentication_status:"AUTHENTICATED"}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.grapplerPublisher.publishGrapplerError("Failed to send AuthenticationStatusChange funnel event",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(d(n(28)).default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMarket=void 0;var r,o=n(260),i=(r=o)&&r.__esModule?r:{default:r};t.getMarket=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown").split("-");return(0,i.default)(e,2)[1]||"unknown"}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(261)),o=i(n(264));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var u,s=(0,o.default)(e);!(r=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(262),__esModule:!0}},function(e,t,n){n(46),n(40),e.exports=n(263)},function(e,t,n){var r=n(59),o=n(10)("iterator"),i=n(30);e.exports=n(7).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(265),__esModule:!0}},function(e,t,n){n(46),n(40),e.exports=n(266)},function(e,t,n){var r=n(15),o=n(82);e.exports=n(7).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(8)),o=u(n(11)),i=u(n(280)),a=n(268);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.eventPublishingEnabled=t}return(0,o.default)(e,[{key:"publishMetric",value:function(e){this.eventPublishingEnabled&&(0,i.default)(e,"login",a.version,1)}}]),e}();t.default=s},function(e){e.exports={_args:[["@identity/session-validation@0.0.68","/drone/src/github.skyscannertools.net/web-engineering/js-tag-manager"]],_development:!0,_from:"@identity/session-validation@0.0.68",_id:"@identity/session-validation@0.0.68",_inBundle:!1,_integrity:"sha1-u3IhYV752rrnF5ineHbmIg1cYi4=",_location:"/@identity/session-validation",_phantomChildren:{"saddlebag-observer":"3.0.16",uuid:"3.3.3"},_requested:{type:"version",registry:!0,raw:"@identity/session-validation@0.0.68",name:"@identity/session-validation",escapedName:"@identity%2fsession-validation",scope:"@identity",rawSpec:"0.0.68",saveSpec:null,fetchSpec:"0.0.68"},_requiredBy:["/saddlebag-user-management"],_resolved:"https://artifactory.skyscannertools.net/artifactory/api/npm/npm/@identity/session-validation/-/@identity/session-validation-0.0.68.tgz",_spec:"0.0.68",_where:"/drone/src/github.skyscannertools.net/web-engineering/js-tag-manager",author:{name:"dBooking"},bugs:{email:"furhan.ghaui@skyscanner.net"},dependencies:{"@identity/auth-event-publisher":"^0.0.44","saddlebag-browser":"^6.0.11","saddlebag-cookie":"^3.0.36","saddlebag-date":"^2.0.8","saddlebag-event-tracking":"^3.0.15","saddlebag-funnel-events":"^0.3.25","saddlebag-grappler":"^2.3.23","saddlebag-localstorage":"^3.0.26"},description:"Library to validate and refresh the access tokens using the refresh token",devDependencies:{"babel-cli":"^6.26.0","babel-core":"^6.26.3","babel-eslint":"^8.2.6","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.7.0","babel-preset-stage-2":"^6.24.1","ensure-node-env":"^1.0.8",eslint:"^4.9.0","eslint-config-airbnb":"^16.1.0","eslint-config-skyscanner":"^3.0.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^6.1.1","eslint-plugin-react":"^7.11.1","eslint-plugin-skyscanner-dates":"^1.0.9",husky:"^1.0.1",jest:"^23.6.0","jest-each":"^23.6.0","jest-fetch-mock":"^1.7.5",jsdoc:"^3.4.3","jsdoc-to-markdown":"^4.0.1","lint-staged":"^7.1.2","npm-watch":"^0.5.0"},engines:{node:"^8.12.0",npm:"^6.4.0"},files:["src","dist"],homepage:"https://github.skyscannertools.net/identity/session-validation",jest:{transformIgnorePatterns:["node_modules/(?!(saddlebag).*/)"]},keywords:["mshell","library","node"],license:"UNLICENSED","lint-staged":{"**/*.{js,jsx}":["npm run lint:js:staged --"]},main:"dist/index.js",name:"@identity/session-validation",publishConfig:{registry:"https://artifactory.skyscannertools.net/artifactory/api/npm/npm/"},scripts:{build:"babel src -d dist --ignore test.js",clean:"rm -rf dist/*",coverage:"jest --coverage",generateNpmrc:"node npm-auth generateNpmrc",lint:"npm run lint:js","lint:js":"eslint . --ignore-path .gitignore --ext .js,.jsx","lint:js:fix":"npm run lint:js -- --fix","lint:js:fix:staged":"eslint . --ignore-path .gitignore --fix","lint:js:staged":"eslint . --ignore-path .gitignore",precommit:"lint-staged",start:"npm-watch build",test:"jest --coverage"},version:"0.0.68",watch:{build:{patterns:["src"],extensions:"js",quiet:!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(13)),o=s(n(14)),i=s(n(8)),a=s(n(11)),u=n(270);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){(0,i.default)(this,e),this.baseUrl=t,this.metricPublisher=n}return(0,a.default)(e,[{key:"validate",value:function(){var e=(0,o.default)(r.default.mark(function e(t,n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.validateSession({body:{idleSeconds:t,clientTimeUtc:n},path:"tokens/validate"}));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({reason:t},"tokens/logout");case 2:if((n=e.sent).ok){e.next=6;break}throw this.metricPublisher.publishMetric("sid_logout_error"),new Error(n.statusText);case 6:return(0,u.deleteCsrfToken)(),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validateSession",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n,o,i=t.body,a=t.path;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.metricPublisher.publishMetric("sid_validate_session_attempt"),e.next=3,this.post(i,a);case 3:if((n=e.sent).ok){e.next=7;break}throw this.metricPublisher.publishMetric("sid_validate_session_error"),new Error(n.statusText);case 7:return e.next=9,n.json();case 9:return(o=e.sent).csrfToken&&(0,u.setCsrfToken)(o.csrfToken),this.metricPublisher.publishMetric("sid_validate_session_success"),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=(0,o.default)(r.default.mark(function e(t,n){var o,i,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:"POST",headers:{"content-type":"application/json",accept:"application/json",pragma:"no-cache","cache-control":"no-cache"},cache:"no-store",credentials:"include",body:JSON.stringify(t)},i=this.baseUrl+"/"+n,e.next=4,fetch(i,o);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCsrfToken=t.deleteCsrfToken=void 0;var r=n(20),o=function(){return new r.LocalStorage("SID")};t.deleteCsrfToken=function(){return o().tryDeleteValue("csrfToken",!1,!1)},t.setCsrfToken=function(e){return o().trySetValue("csrfToken",e,!1,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(8)),o=u(n(11)),i=n(20),a=n(64);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e);var n=t.events,o=void 0===n?["click","keydown","scroll","mousewheel","touchstart"]:n,a=t.namespace,u=void 0===a?"hyperdrive":a;if(this.localStorage=new i.LocalStorage(u),this.events=o,this.started=!1,this.updateLocalStore=this.updateLocalStore.bind(this),this.clearLocalStore=this.clearLocalStore.bind(this),"undefined"===typeof window)throw new Error("window not available")}return(0,o.default)(e,[{key:"start",value:function(){this.started||(this.started=!0,this.updateLocalStore(),this.subscribe())}},{key:"stop",value:function(){this.started=!1,this.unsubscribe(),this.clearLocalStore()}},{key:"subscribe",value:function(){var e=this;this.events.forEach(function(t){return window.addEventListener(t,e.updateLocalStore,{passive:!0})})}},{key:"unsubscribe",value:function(){var e=this;this.events.forEach(function(t){return window.removeEventListener(t,e.updateLocalStore,{passive:!0})})}},{key:"updateLocalStore",value:function(){this.localStorage.trySetValue("sid-last-active",(0,a.getClientUTCTime)(),!0,!1)}},{key:"clearLocalStore",value:function(){this.localStorage.tryDeleteValue("sid-last-active",!0,!1)}},{key:"getLastActivityTime",value:function(){return this.localStorage.tryGetValue("sid-last-active",!0,!1)||(0,a.getClientUTCTime)()}},{key:"getIdleTimeMillis",value:function(){return(0,a.getClientUTCTime)()-this.getLastActivityTime()}}]),e}();t.default=s},function(e,t,n){var r={"./":48,"./development":93,"./development.js":93,"./index":48,"./index.js":48,"./production":94,"./production.js":94};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=272},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(8)),o=a(n(11)),i=n(64);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e);var n=t.retryInterval,o=void 0===n?1e4:n;this.retryInterval=o,this.timeouts={}}return(0,o.default)(e,[{key:"schedulePersistent",value:function(e,t){var n=t.accessTokenExpiry-(0,i.getClientUTCTime)()+(0,i.randomOffsetMillis)();this.schedule(e,n)}},{key:"scheduleTemporary",value:function(e,t){var n=t.sessionExpiry,r=t.maxIdleSeconds,o=n-(0,i.getClientUTCTime)(),a=Math.min(o,(0,i.secondsToMillis)(r))+(0,i.randomOffsetMillis)();this.schedule(e,a)}},{key:"scheduleRetry",value:function(e){this.schedule(e)}},{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.retryInterval;this.timeouts.validate&&clearTimeout(this.timeouts.validate),this.timeouts.validate=setTimeout(e,t)}},{key:"cancel",value:function(){var e=this;Object.keys(this.timeouts).forEach(function(t){clearTimeout(e.timeouts[t])})}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(8)),o=a(n(23)),i=a(n(24));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){var n=e.errorCode,i=e.errorMessage,a=e.traceback;(0,r.default)(this,t);var u=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.errorCode=n,u.errorMessage=i,u.traceback=a,u}return(0,i.default)(t,e),t}(Error);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SESSION_INACTIVE="session-inactive",t.SESSION_EXPIRED="session-expired",t.SESSION_LOGGED_OUT="session-logged-out",t.SESSION_INVALID="session-invalid"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PERSISTENT_SESSION_REFRESHED="PERSISTENT_SESSION_REFRESHED",t.PERSISTENT_SESSION_EXTENDED="PERSISTENT_SESSION_EXTENDED",t.PERSISTENT_SESSION_NO_REFRESH="PERSISTENT_SESSION_NO_REFRESH",t.PERSISTENT_SESSION_LOGGED_OUT="PERSISTENT_SESSION_LOGGED_OUT",t.TEMP_SESSION="TEMP_SESSION"},function(e,t,n){var r={"./a8-net-passthrough/a8-net-passthrough":[143,9,2],"./a8-net-passthrough/a8-net-passthrough.js":[143,9,2],"./a8-net-passthrough/a8-net-passthrough.md":[283,7,87],"./a8-net/a8-net":[111,9,0],"./a8-net/a8-net.js":[111,9,0],"./a8-net/a8-net.md":[282,7,86],"./a8-net/a8-net.test":[142,9,1],"./a8-net/a8-net.test.js":[142,9,1],"./addthis/addthis":[112,9,3],"./addthis/addthis.js":[112,9,3],"./addthis/addthis.md":[284,7,88],"./addthis/addthis.test":[144,9,4],"./addthis/addthis.test.js":[144,9,4],"./criteo/__snapshots__/criteo.test.js.snap":[285,7,89],"./criteo/criteo":[113,9,5],"./criteo/criteo.js":[113,9,5],"./criteo/criteo.md":[286,7,90],"./criteo/criteo.test":[145,9,6],"./criteo/criteo.test.js":[145,9,6],"./facebook/facebookutils":[105,9,7],"./facebook/facebookutils.js":[105,9,7],"./facebookconversion/facebookbootstrap":[107,9,8],"./facebookconversion/facebookbootstrap.js":[107,9,8],"./facebookconversion/facebookbootstrap.test":[146,9,9],"./facebookconversion/facebookbootstrap.test.js":[146,9,9],"./facebookconversion/facebookconversion":[114,9,10],"./facebookconversion/facebookconversion.js":[114,9,10],"./facebookconversion/facebookconversion.md":[287,7,91],"./facebookconversion/facebookconversion.test":[147,9,11],"./facebookconversion/facebookconversion.test.js":[147,9,11],"./facebookjssdk/facebookjssdk":[115,9,12],"./facebookjssdk/facebookjssdk.js":[115,9,12],"./facebookjssdk/facebookjssdk.md":[288,7,92],"./facebookjssdk/facebookjssdk.test":[148,9,13],"./facebookjssdk/facebookjssdk.test.js":[148,9,13],"./facebookredirect/facebookredirect":[116,9,14],"./facebookredirect/facebookredirect.js":[116,9,14],"./facebookredirect/facebookredirect.md":[289,7,93],"./facebookredirect/facebookredirect.test":[149,9,15],"./facebookredirect/facebookredirect.test.js":[149,9,15],"./facebookretargeting/facebookretargeting":[117,9,16],"./facebookretargeting/facebookretargeting.js":[117,9,16],"./facebookretargeting/facebookretargeting.md":[290,7,94],"./facebookretargeting/facebookretargeting.test":[150,9,17],"./facebookretargeting/facebookretargeting.test.js":[150,9,17],"./facebooksearch/facebooksearch":[118,9,18],"./facebooksearch/facebooksearch.js":[118,9,18],"./facebooksearch/facebooksearch.md":[291,7,95],"./facebooksearch/facebooksearch.test":[151,9,19],"./facebooksearch/facebooksearch.test.js":[151,9,19],"./facebookview/facebookview":[119,9,20],"./facebookview/facebookview.js":[119,9,20],"./facebookview/facebookview.md":[292,7,96],"./facebookview/facebookview.test":[152,9,21],"./facebookview/facebookview.test.js":[152,9,21],"./gdn-conversion-points/__snapshots__/gdn-conversion-points.test.js.snap":[293,7,97],"./gdn-conversion-points/gdn-conversion-points":[120,9,22],"./gdn-conversion-points/gdn-conversion-points.js":[120,9,22],"./gdn-conversion-points/gdn-conversion-points.md":[294,7,98],"./gdn-conversion-points/gdn-conversion-points.test":[153,9,23],"./gdn-conversion-points/gdn-conversion-points.test.js":[153,9,23],"./google-adwords/google-adwords":[121,9,24],"./google-adwords/google-adwords.js":[121,9,24],"./google-adwords/google-adwords.md":[295,7,99],"./google-adwords/google-adwords.test":[154,9,25],"./google-adwords/google-adwords.test.js":[154,9,25],"./google-conversion/google-conversion":[122,9,26],"./google-conversion/google-conversion.js":[122,9,26],"./google-conversion/google-conversion.md":[296,7,100],"./google-conversion/google-conversion.test":[155,9,27],"./google-conversion/google-conversion.test.js":[155,9,27],"./gtag-common/adwords-redir-conversion":[100,9,28],"./gtag-common/adwords-redir-conversion.js":[100,9,28],"./gtag-common/adwords-redir-conversion.test":[156,9,29],"./gtag-common/adwords-redir-conversion.test.js":[156,9,29],"./gtag-common/adwords-remarketing":[101,9,30],"./gtag-common/adwords-remarketing.js":[101,9,30],"./gtag-common/adwords-remarketing.test":[157,9,31],"./gtag-common/adwords-remarketing.test.js":[157,9,31],"./gtag-common/conversion-markets":[99,9,32],"./gtag-common/conversion-markets.js":[99,9,32],"./gtag-common/day-view-conversion":[108,9,33],"./gtag-common/day-view-conversion.js":[108,9,33],"./gtag-common/day-view-conversion.test":[158,9,34],"./gtag-common/day-view-conversion.test.js":[158,9,34],"./gtag-common/display-remarketing":[102,9,35],"./gtag-common/display-remarketing.js":[102,9,35],"./gtag-common/display-remarketing.test":[159,9,36],"./gtag-common/display-remarketing.test.js":[159,9,36],"./gtag-common/flights-conversion":[109,9,37],"./gtag-common/flights-conversion.js":[109,9,37],"./gtag-common/flights-conversion.test":[160,9,38],"./gtag-common/flights-conversion.test.js":[160,9,38],"./gtag-common/gdn-conversion-points":[103,9,39],"./gtag-common/gdn-conversion-points.js":[103,9,39],"./gtag-common/gdn-conversion-points.test":[161,9,40],"./gtag-common/gdn-conversion-points.test.js":[161,9,40],"./gtag-common/gdn-dynamic-remarketing-hk-th":[106,9,41],"./gtag-common/gdn-dynamic-remarketing-hk-th.js":[106,9,41],"./gtag-common/gdn-dynamic-remarketing-hk-th.test":[162,9,42],"./gtag-common/gdn-dynamic-remarketing-hk-th.test.js":[162,9,42],"./gtag-common/generic-event-parameters":[104,9,43],"./gtag-common/generic-event-parameters.js":[104,9,43],"./gtag-common/generic-event-parameters.test":[163,9,44],"./gtag-common/generic-event-parameters.test.js":[163,9,44],"./gtag-other/gtag-other":[123,9,45],"./gtag-other/gtag-other.js":[123,9,45],"./gtag-other/gtag-other.test":[164,9,46],"./gtag-other/gtag-other.test.js":[164,9,46],"./gtag-redirect/gtag-redirect":[124,9,47],"./gtag-redirect/gtag-redirect.js":[124,9,47],"./gtag-redirect/gtag-redirect.test":[165,9,48],"./gtag-redirect/gtag-redirect.test.js":[165,9,48],"./gtag-search/gtag-search":[125,9,49],"./gtag-search/gtag-search.js":[125,9,49],"./gtag-search/gtag-search.test":[166,9,50],"./gtag-search/gtag-search.test.js":[166,9,50],"./gtag-view/gtag-view":[126,9,51],"./gtag-view/gtag-view.js":[126,9,51],"./gtag-view/gtag-view.test":[167,9,52],"./gtag-view/gtag-view.test.js":[167,9,52],"./kiwi-tracking-pixel/kiwi-tracking-pixel":[127,9,53],"./kiwi-tracking-pixel/kiwi-tracking-pixel.js":[127,9,53],"./kiwi-tracking-pixel/kiwi-tracking-pixel.md":[297,7,101],"./kiwi-tracking-pixel/kiwi-tracking-pixel.test":[168,9,54],"./kiwi-tracking-pixel/kiwi-tracking-pixel.test.js":[168,9,54],"./microsoftUetRedirect/microsoftUetRedirect":[128,9,55],"./microsoftUetRedirect/microsoftUetRedirect.js":[128,9,55],"./microsoftUetRedirect/microsoftUetRedirect.md":[298,7,103],"./microsoftUetRedirect/microsoftUetRedirect.test":[169,9,56],"./microsoftUetRedirect/microsoftUetRedirect.test.js":[169,9,56],"./microsoftUetSearch/microsoftUetSearch":[129,9,57],"./microsoftUetSearch/microsoftUetSearch.js":[129,9,57],"./microsoftUetSearch/microsoftUetSearch.md":[299,7,104],"./microsoftUetSearch/microsoftUetSearch.test":[170,9,58],"./microsoftUetSearch/microsoftUetSearch.test.js":[170,9,58],"./microsoftUetView/microsoftUetView":[130,9,59],"./microsoftUetView/microsoftUetView.js":[130,9,59],"./microsoftUetView/microsoftUetView.md":[300,7,105],"./microsoftUetView/microsoftUetView.test":[171,9,60],"./microsoftUetView/microsoftUetView.test.js":[171,9,60],"./perimeterx/perimeterx":[131,9,61],"./perimeterx/perimeterx.js":[131,9,61],"./perimeterx/perimeterx.md":[301,7,106],"./perimeterx/perimeterx.test":[172,9,62],"./perimeterx/perimeterx.test.js":[172,9,62],"./propwatcher/expected-props":[110,3,63],"./propwatcher/expected-props.json":[110,3,63],"./propwatcher/propwatcher":[132,9,64],"./propwatcher/propwatcher.js":[132,9,64],"./propwatcher/propwatcher.test":[173,9,65],"./propwatcher/propwatcher.test.js":[173,9,65],"./salesforce-dmp/salesforce-dmp":[133,9,66],"./salesforce-dmp/salesforce-dmp.js":[133,9,66],"./salesforce-dmp/salesforce-dmp.md":[302,7,107],"./salesforce-dmp/salesforce-dmp.test":[174,9,67],"./salesforce-dmp/salesforce-dmp.test.js":[174,9,67],"./sat-register/sat-register":[135,9,68],"./sat-register/sat-register.js":[135,9,68],"./sat-register/sat-register.md":[304,7,108],"./sat-register/sat-register.test":[176,9,69],"./sat-register/sat-register.test.js":[176,9,69],"./sat/sat":[134,9,70],"./sat/sat.js":[134,9,70],"./sat/sat.md":[303,7,109],"./sat/sat.test":[175,9,71],"./sat/sat.test.js":[175,9,71],"./twitter/twitter":[136,9,72],"./twitter/twitter.js":[136,9,72],"./twitter/twitter.md":[305,7,110],"./twitter/twitter.test":[177,9,73],"./twitter/twitter.test.js":[177,9,73],"./twitterwidgets/twitterwidgets":[137,9,74],"./twitterwidgets/twitterwidgets.js":[137,9,74],"./twitterwidgets/twitterwidgets.md":[306,7,111],"./twitterwidgets/twitterwidgets.test":[178,9,75],"./twitterwidgets/twitterwidgets.test.js":[178,9,75],"./usabilla/usabilla":[179,9,79,76],"./usabilla/usabilla.js":[179,9,79,76],"./utm-source-cookie/utm-source-cookie":[141,9,77],"./utm-source-cookie/utm-source-cookie.js":[141,9,77],"./utm-source-cookie/utm-source-cookie.md":[307,7,112],"./utm-source-cookie/utm-source-cookie.test":[180,9,78],"./utm-source-cookie/utm-source-cookie.test.js":[180,9,78],"./yahoo-conversion/yahoo-conversion":[138,9,80],"./yahoo-conversion/yahoo-conversion.js":[138,9,80],"./yahoo-conversion/yahoo-conversion.md":[308,7,113],"./yahoo-conversion/yahoo-conversion.test":[181,9,81],"./yahoo-conversion/yahoo-conversion.test.js":[181,9,81],"./yahoo-retargeting/yahoo-retargeting":[139,9,82],"./yahoo-retargeting/yahoo-retargeting.js":[139,9,82],"./yahoo-retargeting/yahoo-retargeting.md":[309,7,114],"./yahoo-retargeting/yahoo-retargeting.test":[182,9,83],"./yahoo-retargeting/yahoo-retargeting.test.js":[182,9,83],"./yandex-metrica/__snapshots__/yandex-metrica.test.js.snap":[310,7,115],"./yandex-metrica/yandex-metrica":[140,9,84],"./yandex-metrica/yandex-metrica.js":[140,9,84],"./yandex-metrica/yandex-metrica.md":[311,7,116],"./yandex-metrica/yandex-metrica.test":[183,9,85],"./yandex-metrica/yandex-metrica.test.js":[183,9,85]};function o(e){var t=r[e];return t?Promise.all(t.slice(2).map(n.e)).then(function(){var e=t[0];return n.t(e,t[1])}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}o.keys=function(){return Object.keys(r)},o.id=277,e.exports=o},function(e,t,n){n.p="".concat(window.TAG_MANAGER_PROPS.staticPath,"build/")},function(e,t,n){"use strict";n.r(t);var r=n(96),o=n.n(r),i=n(97),a=n.n(i),u=n(2),s={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var c=!1,f=function(e){var t=s.getWindow();c?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};f(function(){c=!0});n(0),s.getWindow();var l={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var d=!1,p=function(e){var t=l.getWindow();d?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};p(function(){d=!0});var h={},v={},g=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;h=e.queued,v=e.topicSubscriptions}else h={},v={},window.Sb.ObserverMemory={queued:h,topicSubscriptions:v}},y=function(e){var t=v[e];if(t&&t.length){var n=h[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)for(var i=n[r],a=0,u=t.length;a<u;a++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(i,t[a])}}},m={subscribe:function(e,t,n){return v[e]||(v[e]=[]),v[e].push({fn:t,context:n||void 0,received:[]}),y(e),[e,t]}},b=0;m.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+b++;return h[e]||(h[e]=[]),h[e].push({topic:e,data:t,publishId:n}),y(e),m},m.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=v[t];if(!r)return m;for(var o=r.length;o--;)r[o].fn===n&&r.splice(o,1);return m}},m.wrap=function(e,t){Object.keys(t).forEach(function(n){m.subscribe("".concat(e).concat(n),t[n])})},m.init=g,g();l.getWindow();var w=l.getWindow()||{};w.__skyOCsLoadedScripts=w.__skyOCsLoadedScripts||{};var k={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var _=!1,E=function(e){var t=k.getWindow();_?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};E(function(){_=!0});var S={},O={},x=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;S=e.queued,O=e.topicSubscriptions}else S={},O={},window.Sb.ObserverMemory={queued:S,topicSubscriptions:O}},T=function(e){var t=O[e];if(t&&t.length){var n=S[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)for(var i=n[r],a=0,u=t.length;a<u;a++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(i,t[a])}}},j={subscribe:function(e,t,n){return O[e]||(O[e]=[]),O[e].push({fn:t,context:n||void 0,received:[]}),T(e),[e,t]}},P=0;j.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+P++;return S[e]||(S[e]=[]),S[e].push({topic:e,data:t,publishId:n}),T(e),j},j.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=O[t];if(!r)return j;for(var o=r.length;o--;)r[o].fn===n&&r.splice(o,1);return j}},j.wrap=function(e,t){Object.keys(t).forEach(function(n){j.subscribe("".concat(e).concat(n),t[n])})},j.init=x,x();k.getWindow();var L=k.getWindow()||{};L.sky__OCs||(L.sky__OCs={components:Object.create(null),waiting:Object.create(null)});var I=L.sky__OCs,C=I.waiting,A=I.components,M=function(e,t,n){return o()("".concat(e).concat(t).concat(a()(n)))},N=function(e){var t=e.name,n=e.version,r=e.params,o=void 0===r?{}:r,i=e.componentDefinition,a=e.hydrate,s=e.props;delete o.clientOnly,delete o.SSR;var c=M(t,n,o);return A[c]?!!C[c]&&(C[c].resolve({componentDefinition:i,hydrate:a,props:s}),u.default.publish("component-registered",{name:t,version:n,params:o}),u.default.publish("component-registered-".concat(c),{name:t,version:n,params:o}),delete C[c],!0):(A[c]=Promise.resolve({componentDefinition:i,hydrate:a,props:s}),u.default.publish("component-registered",{name:t,version:n,params:o}),u.default.publish("component-registered-".concat(c),{name:t,version:n,params:o}),!0)},R=n(1),U=n.n(R),D=n(12),V=n(25),G=n(29),F=n(49),W=n(3),H={},B={},Y=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;H=e.queued,B=e.topicSubscriptions}else H={},B={},window.Sb.ObserverMemory={queued:H,topicSubscriptions:B}},J=function(e){var t=B[e];if(t&&t.length){var n=H[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)for(var i=n[r],a=0,u=t.length;a<u;a++){!function(t,n){setTimeout(function(){try{n.received.indexOf(t.publishId)<0&&(n.fn.apply(n.context,[t.data]),n.received.push(t.publishId))}catch(r){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(r.stack||r))}},0)}(i,t[a])}}},z={subscribe:function(e,t,n){return B[e]||(B[e]=[]),B[e].push({fn:t,context:n||void 0,received:[]}),J(e),[e,t]}},q=0;z.publish=function(e,t){var n=1e4*Math.floor(1e6*Math.random())+q++;return H[e]||(H[e]=[]),H[e].push({topic:e,data:t,publishId:n}),J(e),z},z.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],n=e[1],r=B[t];if(!r)return z;for(var o=r.length;o--;)r[o].fn===n&&r.splice(o,1);return z}},z.wrap=function(e,t){Object.keys(t).forEach(function(n){z.subscribe("".concat(e).concat(n),t[n])})},z.init=Y,Y();var K={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var $=!1,Z=function(e){var t=K.getWindow();$?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};Z(function(){$=!0});K.getWindow();var X=n(4),Q=n(5),ee=n(6),te=n.n(ee),ne=n(32),re=function(e){return Number.isInteger?Number.isInteger(e):"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function oe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.path,i=void 0===o?"/":o,a=r.secure,u=void 0===a||a;if(null==n)te.a.set(e,t,{path:i,secure:u});else{if(!re(n))throw new Error("Expires parameter needs to be an integer.");te.a.set(e,t,{expires:n,path:i,secure:u})}}var ie,ae,ue=function(){function e(t){Object(X.a)(this,e),this.name=t;var n=K.getDocument().cookie;this.cookie=Object(ne.parseMultiValueCookie)(t,n),this.cookie||(this.cookie=new ne.MultiValueCookie({}))}return Object(Q.a)(e,[{key:"getValue",value:function(e){return this.cookie.getValue(e)}},{key:"setValue",value:function(e,t){return this.cookie.setValue(e,t),this}},{key:"deleteValue",value:function(e){return this.cookie.deleteValue(e),this}},{key:"keys",value:function(){return this.cookie.keys()}},{key:"clear",value:function(){return this.cookie.clear(),this}},{key:"getRawValue",value:function(){return this.cookie.serializeToString()}},{key:"store",value:function(e,t){return oe(this.name,this.cookie.serializeToString(),e,t),this}},{key:"remove",value:function(){te.a.remove(this.name)}}]),e}(),se=function(e){var t="".concat(e,"=");return(K.getDocument().cookie||"").split(";").some(function(e){return e.indexOf(t)>=0})},ce=function(e){return new ue(e)},fe=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","UK"],le=Object.freeze({OPTIN:"optin",INFORMATION:"information",ADVERTS:"adverts",VERSION:"version"}),de=function(e){return"true"===(e||"")},pe=function(e){return parseInt(e.getValue(le.VERSION),10)||0},he=function(e){return!e||fe.indexOf((e||"").toUpperCase())>=0},ve=function(e){return!he(e)},ge=function(e,t){return Object.assign({},t,Object(W.a)({},"isGdprActiveInMarket",he(e)))},ye=function(){var e=K.getWindow();e.Sb&&e.Sb.trackingPreferences&&e.Sb.trackingPreferences.initialLoad&&delete e.Sb.trackingPreferences.initialLoad},me=Object.freeze((ie={},Object(W.a)(ie,le.INFORMATION,!0),Object(W.a)(ie,le.ADVERTS,!0),Object(W.a)(ie,le.VERSION,2),ie)),be=Object.freeze((ae={},Object(W.a)(ae,le.INFORMATION,!1),Object(W.a)(ae,le.ADVERTS,!1),Object(W.a)(ae,le.VERSION,2),ae)),we=function(e,t){t?(e.setValue("init",!0),e.store(null,{secure:!0})):(e.deleteValue("init"),e.store(730,{secure:!0}),ye())},ke=function(){var e=K.getWindow();return e.Sb&&e.Sb.trackingPreferences&&e.Sb.trackingPreferences.initialLoad},_e=function(e){var t;if(ke())return t={},Object(W.a)(t,le.INFORMATION,!1),Object(W.a)(t,le.ADVERTS,!1),Object(W.a)(t,le.VERSION,2),Object(W.a)(t,"isGdprActiveInMarket",he(e)),t;if(!se("gdpr"))return ge(e,be);var n=ce("gdpr");return pe(n)<2?ge(e,be):(function(e){de(e.getValue("init"))&&we(e,!1)}(n),function(e,t){var n,r=e.getValue(le.INFORMATION),o=null!=r?de(r):ve(t),i=e.getValue(le.ADVERTS),a=null!=i?de(i):ve(t);return n={},Object(W.a)(n,le.INFORMATION,o),Object(W.a)(n,le.ADVERTS,a),Object(W.a)(n,le.VERSION,pe(e)),Object(W.a)(n,"isGdprActiveInMarket",he(t)),n}(n,e))},Ee=function(e){if(!e)throw new Error("Market should be provided to get tracking preferences");return he(e)||se("gdpr")?_e(e):function(e){return ge(e,me)}(e)},Se=function(e){return 3===(e||"").length?e:void 0},Oe=function(e){return{originIata:Se(e.originIata)||Se(e.originAirport)||Se(e.originId)||Se(e.originCityId),destinationIata:Se(e.destinationIata)||Se(e.destinationAirport)||Se(e.destinationId)||Se(e.destinationCityId)}},xe=function(){var e=Object(D.a)(U.a.mark(function e(t,r,o,i){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(277)("./".concat(t,"/").concat(t));case 2:a=e.sent,(0,a.default)(Object.assign({},Object.assign(r,o)),i);case 5:case"end":return e.stop()}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),Te=new F.default("public","js-tag-manager"),je=function(e,t,n){return Object(G.b)({component:"tag-manager",page:e.page,message:n,error:"".concat(t.stack||t)})},Pe=function(e,t){return"essential"===t||e[t]},Le=function(e){var t=Object.assign({},e);return delete t.injecteds,delete t.dynamics,t},Ie=function(){var e=Object(D.a)(U.a.mark(function e(t,n,r,o){var i,a,s,c,f,l,d;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.__tagmanagerProps=Object.assign({},r),t.addLoadEventHandler=V.b,t.injectScript=V.c,i=n.dynamics,a=void 0===i?[]:i,s=n.injecteds,c=void 0===s?[]:s,f=Ee(r.market),l=0,c.forEach(function(e){!e.loaded&&Pe(f,e.category)&&(e.loaded=!0,l+=1,Object(V.c)(e.url,null,null,"anonymous"))}),e.next=9,o;case 9:d=e.sent,a.forEach(function(){var e=Object(D.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loaded||!Pe(f,t.category)){e.next=12;break}return e.prev=1,Te.track("sandbox.TagLaunches",{tag:t.name,category:t.category,page:r.pagetype}),t.loaded=!0,l+=1,e.next=7,xe(t.name,Le(r),d,V.c);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),je(r,e.t0,"Failed to inject '".concat(t.name,"' tag"));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()),l&&u.default.publish("tags-loaded");case 12:case"end":return e.stop()}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),Ce=function(e){Te.track("sandbox.JsTagManagerLaunches",{page:e.pagetype});var t=V.a.getWindow(),n=Oe(e),r=!1,o={dynamics:e.dynamics,injecteds:e.injecteds},i=function(){var i=Object(D.a)(U.a.mark(function i(){return U.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,i.next=5,Ie(t,o,e,n);case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(2),je(e,i.t0,"Failed to load tags");case 10:case"end":return i.stop()}},i,null,[[2,7]])}));return function(){return i.apply(this,arguments)}}();return u.default.subscribe("tracking-preferences-changed",Object(D.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}},e)}))),Object(V.b)(Object(D.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.next=3,i();case 3:case"end":return e.stop()}},e)}))),null},Ae=(n(278),window.TAG_MANAGER_PROPS);N({name:"js-tag-manager",version:Ae.version,componentDefinition:Ce,props:{injecteds:Ae.injecteds,dynamics:Ae.dynamics,pagetype:Ae.pagetype}})},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(5),i={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}};var a=!1,u=function(e){var t=i.getWindow();a?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};u(function(){a=!0});n(0),n(2),i.getWindow();var s,c=function(){if("undefined"===typeof s)try{var e=i.getDocument().getElementById("trackolding-sync"),t=JSON.parse(e.getAttribute("data-data"));s=!0===t.useAkamaiSlipstream}catch(n){console.warn("Could not get Trackolding data, will not use Akamai Slipstream endpoint"),s=!1}return s},f="https://slipstream.skyscanner.net",l="/slipstream",d="grp/v1/custom/public/saddlebag-event-logger/FrontendEventMessage/generic.FrontendEventMessage",p=function(){function e(){Object(r.a)(this,e),window.__internal&&window.__internal.EventTracker||(window.__internal=window.__internal||{},window.__internal.EventTracker={maxEvents:10,sentEvents:0});var t=window.__internal.EventTracker.maxEvents;this.maxEvents=t,c()?this.endpoint="".concat(l,"/").concat(d):this.endpoint="".concat(f,"/").concat(d)}return Object(o.a)(e,[{key:"track",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(window.__internal.EventTracker.sentEvents>=this.maxEvents)console.warn("EventTracker: Event ignored, maximum number of events (".concat(this.maxEvents,") already logged."));else{if(!e||!t)throw Error("EventTracker: name and component must be set, got '".concat(e,"' and '").concat(t,"' instead."));if("number"!==typeof r)throw Error("EventTracker: value must be a number, got '".concat(typeof r,"' instead."));var a,u,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,component:t,version:n,value:r,page_name:o||"not_set"})};a=this.endpoint,u=s,new Promise(function(e,t){i.getWindow().fetch(a,u).then(e,t)}),window.__internal.EventTracker.sentEvents+=1}}}]),e}();n.d(t,"eventTracking",function(){return v});var h=new p,v=function(e,t,n,r,o){h.track(e,t,n,r,o)};t.default=v},function(e,t,n){"use strict";n.r(t);var r={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.getNavigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&-1===e.indexOf("Chrome")},i=function(e,t){var n,o=r.getWindow();"function"===typeof o.MouseEvent?n=new o.MouseEvent(e,{bubbles:!0,cancelable:!0}):(n=r.getDocument().createEvent("MouseEvents")).initEvent(e,!0,!0);t.dispatchEvent(n)},a=function(e){var t=r.getDocument(),n=t.createElement("a");n.href=e,t.body.appendChild(n),i("mousedown",n),i("click",n)},u=function(){var e=r.getWindow(),t=r.getDocument();return"ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch},s=function(e,t,n,o){var i=r.getDocument(),a=i.createElement("script");a.type=n||"text/javascript",a.async=!0,["anonymous","use-credentials"].indexOf(o)>-1&&(a.crossOrigin=o),t&&"function"===typeof t&&(a.onload=t),0===e.indexOf("//")||0===e.indexOf("http")?a.src=e:a.src=("https:"===i.location.protocol?"https://":"http://")+i.location.host+e;var u=i.getElementsByTagName("script")[0];u.parentNode.insertBefore(a,u)},c=function(){return r.getNavigator().userAgent},f=function(){var e=r.getWindow(),t=r.getDocument(),n=t.documentElement,o=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||o.clientWidth,height:e.innerHeight||n.clientHeight||o.clientHeight}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(),t=f(),n=r.getWindow();return/iPhone.*Safari/i.test(e)&&!/(CriOS|OPiOS|Chrome|Edge|Firefox|FxiOS)/i.test(e)&&(function(e,t){return 414===e.height&&90===Math.abs(t.orientation)}(t,n)||function(e,t){return 414===e.width&&0===t.orientation}(t,n))};var d=function(){return l()&&(e=f(),t=r.getWindow(),414===e.height&&90===Math.abs(t.orientation));var e,t},p=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.substring(1):t},h=!1,v=function(e){var t=r.getWindow();h?t.setTimeout(function(){return e()},0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};v(function(){h=!0});var g,y=v,m=function(e){var t=r.getDocument();!function(e){return"complete"===e.readyState||"interactive"===e.readyState}(t)?t.addEventListener("DOMContentLoaded",function(){e()}):e()},b=n(0),w=function(){var e=r.getWindow().reqTag;return e||(e=r.getWindow().reqTag=Object(b.v4)()),e},k=function(e,t){if(!("multi-destination"===t&&e.length>1))return!1;var n=e[0],r=e[e.length-1],o=n.originId,i=n.destinationId,a=r.originId,u=r.destinationId;return!!(o&&i&&a&&u)&&(o!==u||i!==a)},_=function(e,t,n){return{originId:e,destinationId:t,date:n}},E=function(e,t){var n=e.legs||[],r=e.tripType,o=(e.childrenV2||[]).filter(function(e){return e>=2}),i={"Leg Count":n&&n.length||{return:2,"one-way":1}[r],"Trip Type":r,"Prefer Directs":e.preferDirects,"Cabin Class":e.cabinclass,"Open Jaw":k(n,r),Adults:e.adultsV2,Children:o.length,Infants:(e.childrenV2||[]).length-o.length};return 0===n.length&&(n.push(_(e.originId,e.destinationId||"everywhere",e.outboundDate)),"return"===r&&n.push(_(e.destinationId||"everywhere",e.originId,e.inboundDate))),n.forEach(function(e,t){!function(e,t,n){var r=e;r["Origin Code Leg ".concat(n)]=t.originId,r["Destination Code Leg ".concat(n)]=t.destinationId,r["Date Leg ".concat(n)]=t.date}(i,e,t+1)}),i["Date Offset Leg 1"]=function(e,t){var n=new Date(e),r=new Date(t);return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),Math.abs((r.getTime()-n.getTime())/864e5+1)}(t,n[0].date),i},S={getUrl:function(){return r.getDocument().URL},getVisibilityState:function(){return r.getDocument().visibilityState||"N/A"},isHidden:function(){return"boolean"===typeof r.getDocument().hidden?r.getDocument().hidden:"N/A"}},O=n(2),x=function(){return new Promise(function(e){var t=r.getWindow();O.default.subscribe("trackolding-loaded",function(){e(t.__trackolding.getTrackIdentifier())})})},T=r.getWindow(),j=function(e){T.requestIdleCallback&&T.requestIdleCallback(e,{timeout:1e4}),setTimeout(e,1e4)},P=function(){if("undefined"===typeof g)try{var e=r.getDocument().getElementById("trackolding-sync"),t=JSON.parse(e.getAttribute("data-data"));g=!0===t.useAkamaiSlipstream}catch(n){console.warn("Could not get Trackolding data, will not use Akamai Slipstream endpoint"),g=!1}return g};n.d(t,"isAndroid",function(){return o}),n.d(t,"redirect",function(){return a}),n.d(t,"getUserAgent",function(){return c}),n.d(t,"supportsTouch",function(){return u}),n.d(t,"GLOBAL",function(){return r}),n.d(t,"injectScript",function(){return s}),n.d(t,"isIphoneSixPlus",function(){return l}),n.d(t,"isIphoneSixPlusLandscape",function(){return d}),n.d(t,"getVendorProperty",function(){return p}),n.d(t,"getViewportSize",function(){return f}),n.d(t,"addLoadEventHandler",function(){return y}),n.d(t,"afterDomContentLoaded",function(){return m}),n.d(t,"getRequestId",function(){return w}),n.d(t,"getCommonProperties",function(){return E}),n.d(t,"pageProperties",function(){return S}),n.d(t,"getTrackIdentifier",function(){return x}),n.d(t,"runLaterOrIdle",function(){return j}),n.d(t,"isAkamaiSlipstreamEnabled",function(){return P})}]);
//# sourceMappingURL=main.622ca0b9.js.map